!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=o(a),s=n(2),l=o(s),u=n(5),c=(o(u),n(7)),f=(o(c),n(8)),d=(o(f),n(9)),p=o(d),g=n(10),h=(o(g),n(12)),m=(o(h),n(17)),y=(o(m),n(18)),v=(o(y),n(20)),w=(o(v),n(11)),b=(o(w),n(13)),k=(o(b),n(21)),S=(o(k),n(22)),T=(o(S),n(25)),I=(r(T),n(16)),x=(o(I),n(3));o(x),document,window;p.default.addEarlyExtension("l9ehhrb6mtv75bp2",{run:function(){l.default.globalTracking=!0,l.default.activity.activityServer="//query.fandommetrics.com"}});var C=function(){l.default.shown.freqCap=2,l.default.inventory.version=3,l.default.inventory.inventoryServer="//query.fandommetrics.com",l.default.sdk.multiFetch=!0,l.default.activity.activityServer="//query.fandommetrics.com",l.default.activity.itemRegex="(?:[?#]|$)",l.default.activity.excludeRegex="(answers.wikia.com|pecial:|Talk:|User:|Template:|Category:|_Wiki|Main_Page|Marvel_Database|:Search|peciale:|pecjalna:|/Narutopedia)",l.default.inventory.itemRegex="(http://.+.wikia.com/wiki/.+?|http://fandom.wikia.com/(?:articles|videos|curated)/.+?)(?:[?#]|$)",l.default.inventory.excludeRegex="(pecial:|Talk:|User:|Template:|Category:|answers.wikia.com)",l.default.inventory.filters=[{name:"noIndex",value:"true"}]};p.default.addWidgetData("l9ehhrb6mtv75bp2",{widgets:{"wikia-rail":{dedupGid:"0"},"wikia-impactfooter":{dedupGid:"0"},"wikia-footer-wiki-rec":{dedupGid:"1"}}}),p.default.addExtension("l9ehhrb6mtv75bp2",{run:C}),i.default.start()},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(){console.log("JavaScript SDK is not activated.")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=o(i),l=n(5),u=o(l),c=n(7),f=o(c),d=n(8),p=o(d),g=n(9),h=o(g),m=n(10),y=o(m),v=n(12),w=o(v),b=n(17),k=o(b),S=n(18),T=o(S),I=n(20),x=o(I),C=n(11),R=(o(C),n(13)),E=o(R),_=n(21),O=o(_),D=n(22),A=o(D),U=n(3),P=(o(U),n(24)),M=o(P),N=n(25),q=r(N),L=n(16),F=o(L);t.default={start:function(){var e=this,t=s.default.pmVar,n=window[t].q||[];window[t]=function(){return e.processCall(arguments)};for(var r=0;r<n.length;r++)e.processCall(n[r])},processCall:function(e){var t=Array.prototype.slice.call(e);switch(s.default.debug&&(console.log("$p function: "+t[0]),console.log("$p params: "+JSON.stringify(t.slice(1)))),t[0]){case"init":this.init.apply({},t.slice(1));break;case"send":y.default.send.apply({},t.slice(1));break;case"sendRobust":return y.default.sendRobust.apply({},t.slice(1));case"collectWidgetInfo":T.default.collectWidgetInfo.apply({},t.slice(1));break;case"collectInventory":O.default.collect.apply({},t.slice(1));break;case"setPushStateReset":x.default.setPushStateReset.apply({},t.slice(1));break;case"setOnHashChangeReset":x.default.setOnHashChangeReset.apply({},t.slice(1));break;case"printDebugInfo":this.printDebugInfo.apply({},t.slice(1));break;case"debug":s.default.debug=t[1]===!0;break;case"resetPageview":return A.default.isActivated()?A.default.resetPageview.apply({},t.slice(1)):a();case"setUserId":return A.default.isActivated()?u.default.setUserId.apply({},t.slice(1)):a();case"getWidgetNames":return A.default.isActivated()?A.default.getWidgetNames.apply({},t.slice(1)):a();case"setRequestFields":A.default.isActivated()?A.default.setRequestFields.apply({},t.slice(1)):a();break;case"setRequestFieldsAON":A.default.isActivated()?A.default.setRequestFieldsAON.apply({},t.slice(1)):a();break;case"setArrayRequestFields":A.default.isActivated()?A.default.setArrayRequestFields.apply({},t.slice(1)):a();break;case"setMandatoryRequestFields":A.default.isActivated()?A.default.setMandatoryRequestFields.apply({},t.slice(1)):a();break;case"setMandatoryArrayRequestFields":A.default.isActivated()?A.default.setMandatoryArrayRequestFields.apply({},t.slice(1)):a();break;case"setGetQueryInfo":A.default.isActivated()?A.default.setGetQueryInfo.apply({},t.slice(1)):a();break;case"setNoTag":A.default.isActivated()?A.default.setNoTag.apply({},t.slice(1)):a();break;case"register":A.default.isActivated()?A.default.register.apply({},t.slice(1)):a();break;case"fetch":A.default.isActivated()?A.default.fetch.apply({},t.slice(1)):a();break;case"track":A.default.isActivated()?A.default.track.apply({},t.slice(1)):a();break;case"userHash":return A.default.isActivated()?A.default.userHash.apply({},t.slice(1)):a();case"abTestSlice":return A.default.isActivated()?A.default.abTestSlice.apply({},t.slice(1)):a();case"render":return A.default.isActivated()?A.default.render.apply({},t.slice(1)):a();case"renderCustomWidget":return A.default.isActivated()?A.default.renderCustomWidget.apply({},t.slice(1)):a();case"sendItem":return A.default.isActivated()?A.default.sendItem.apply({},t.slice(1)):a();case"setContext":return A.default.isActivated()?A.default.setContext.apply({},t.slice(1)):a();case"getHist":return A.default.isActivated()?s.default.getHistList.apply(s.default,t.slice(1)):a();case"getPageviewId":return A.default.isActivated()?s.default.pvid:a();case"setHist":return A.default.isActivated()?A.default.setHist.apply({},t.slice(1)):a();case"search":return M.default.search.apply({},t.slice(1));case"onload":return t[1]();case"monitorSearch":return A.default.isActivated()?A.default.monitorSearch.apply({},t.slice(1)):a();case"fpo":return q.fetchFloorPrice.apply(null,t.slice(1));case"pubadsRequested":return q.pubadsRequested.apply(null,t.slice(1));case"runDiagnostics":return F.default.runDiagnostics()}},init:function(e,t){if(null==s.default.jsKey){if(t=t||{},s.default.jsKey=e,s.default.disabledCust[e])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");window.$ps&&(F.default.startupTimes.beaconLoadStartTime=0|window.$ps),performance&&performance.now&&"function"==typeof performance.now&&(F.default.startupTimes.initStartTime=0|performance.now()),h.default.maybeRunEarlyExtension(),p.default.addEvent(window,"scroll",A.default.debounce(w.default.checkScroll,100)),t.fi&&(t.config={activity:{activityServer:"http://start.liftigniter.com"},sdk:{queryServer:"http://start.liftigniter.com",multiFetch:!0,enableBackup:!1},inventory:{inventoryServer:"http://start.liftigniter.com"}}),s.default.init(t.config),u.default.initializeCookies(),k.default.initializeTimers(),f.default.initializeDurationEvents(),x.default.initializeNavigationEvents(),s.default.extensionOff||h.default.maybeRunExtension(),s.default.inventory.collect&&p.default.domComplete(function(){var e=0;F.default.startupTimes.initEndTime||(e=1e3),window.setTimeout(function(){try{O.default.collect()}catch(t){var e="LiftIgniter: Error in inventory collection: "+t+"; please check the JSON formatting for metadata; you can check formatting at http://jsonlint.com";s.default.errorString=""+t,y.default.send("scraping_fail"),F.default&&F.default.errorMessagesByEventType&&(F.default.errorMessagesByEventType.scraping_fail=e),s.default.errorString=void 0,console.log(e)}},e)}),y.default.checkBuffer(),window.setInterval(function(){y.default.checkBuffer()},1e4),performance&&performance.now&&"function"==typeof performance.now&&(F.default.startupTimes.initEndTime=0|performance.now())}},printDebugInfo:function(e){var t=Array.prototype.slice.call(arguments);switch(console.log("Debug Info: <"+e+">. Args:"),console.log(t.slice(1)),console.log("Results:"),e){case"config":console.log(s.default);break;case"scrapeFeature":console.log(E.default.scrapeFeature.apply({},t.slice(1)));break;case"scrapeInventory":console.log(O.default.scrapeInventory.apply({},t.slice(1)))}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=window.$igniter_var||window.$petametricsVar||window.$petametrics_var;t.default={trial:!1,extensionOff:!1,disabledCust:{"3ra9ebvgp1gnl9gu":!0,jo34k2op9eztyzj1:!0,llbf18lltc4upsf8:!0,"3f2nr8ipir0923el":!0,gn0ee46lqa6l86dv:!0,j8vr8s11slka1e3d:!0,u7nof0s7krrqfgav:!0},debug:!1,activity:{activityServer:"//query.petametrics.com",activitySamplingPercent:100,itemRegex:void 0,excludeRegex:void 0,includeBrowsingHistory:!1,canonicalUrlTransform:function(e){return e},urlTransform:function(e){return e}},useCanonicalUrl:!0,globalTracking:!0,disableCustomWidget:!1,noTag:!1,limitHistory:!1,sdk:{queryServer:"//query.petametrics.com",backupQueryServer:"//query1.petametrics.com",queryApiVersion:"v2",getQueryInfo:!1,requestFields:["url","author","title","rank","thumbnail"],mandatoryRequestFields:[],arrayRequestFields:[],mandatoryArrayRequestFields:[],fetchCalled:!1,multiFetch:!1,enableBackup:!0,requestFieldsAON:!1,customTrackFunc:void 0,widgetAnalysis:void 0,retry:!0,manualHist:void 0,iden:"url",historyTracking:!0,ogUrlHistory:!1,pushStateReset:!1,replaceStateReset:!1,stabilize:!1,alwaysSendWidgetResponse:!0,pushStateCallback:function(){}},clickHist:{onLocalStorage:!0,onCookie:!1,urlTrans:function(e){return e},clickHistCKey:"_igch",clickHistLKey:"_igClkHis",cap:10,send:!1},longHist:{active:!1,bufferSize:100,recentDropSize:0},timing:{shownTimes:{},visibleTimes:{},clickTimes:{}},search:{queryServer:"//start.liftigniter.com",defaultQuery:"",max:10,off:0,requestFields:["url","title*","thumbnail","description*","image"]},fpo:{queryServer:"//fpo.petametrics.com",timeout:5e3},trackingTransURL:function(e){return e},customContext:{id:void 0},qOpt:{dynScrollInfo:!1,screenDim:!1,sendTimer:!0},shown:{active:!1,freqCap:3,vizCap:10,maxExclude:20,bufferSize:40,vizSendCap:void 0,freqCapKey:"_fcap"},inventory:{inventoryServer:"//query.petametrics.com",inventoryApiVersion:"v1",version:void 0,collect:!0,id:"url",collectJSON:!0,collectOpenGraph:!0,collectOpenGraphOnly:!0,mandatoryOpenGraphFeatures:["title","url","type"],features:void 0,mandatoryFeatures:["title","url"],filters:[{name:"noIndex",value:"true"}],useOpenGraphForCanonicalUrl:!0,useLinkRelForCanonicalUrl:!0,defaultType:"article",stripTagsForCanonicalUrl:!0,stripHashesForCanonicalUrl:!0,canonicalUrlTransform:function(e){return e},itemRegex:void 0,excludeRegex:void 0,ttl:0},customTrackFunc:void 0,pmVar:i,jsKey:null,loadedAt:window[i].l,version:"0.4",cookieDomain:a.default.getTopLevelDomain(window.location.hostname),thirdKey:"_igg",permKey:"_ig",sessKey:"_igt",sessRefKey:"_igsr",userRefKey:"_igur",histKey:"_igh",longHistKey:"_ighl",robustMsgSlot:"_igslot_",pisKey:"_ig_pis",siuKey:"_ig_siu",piuKey:"_ig_piu",cisKey:"_ig_cis",ciuKey:"_ig_ciu",dpisKey:"_ig_dpis",dpiuKey:"_ig_dpiu",iriuKey:"_ig_iriu",numPerKey:"_ig_nump",numSesKey:"_ig_sess",robustUseCookie:!0,robustUseStorage:!0,latestVizKey:"_iglviz_",lastClick:"_iglclk_",widgetClickContextKey:"_igwcc_",gid:null,uid:null,sid:null,pvid:null,hist:null,histSettings:{stripTags:!0,stripHashes:!0,stripDashes:!1,fixHttps:!1,deduplicate:!0,maxItems:10,histRegex:/(.*)/,origin:void 0,transform:function(e){return e},globalTransform:function(e){return e}},getHistList:function(){return this.sdk.manualHist?this.sdk.manualHist:this.hist?(this.hist=this.hist.split(",").join("|"),this.hist.split("|").map(function(e){return decodeURIComponent(e)})):[]},getClickHistList:function(){},globalCtx:{},adblockCheck:!1,adblocker:!1,userAgent:navigator.userAgent,language:navigator.language,os:navigator.platform,colorDepth:screen.colorDepth,screenHeight:screen.height,screenWidth:screen.width,currentUrl:window.location.href,referrer:document.referrer.slice(0,200),timers:{stuck_10s:1e4,stuck_3m:18e4},defaultApiEvents:["pageview","stuck_10s","stuck_3m"],refresh:function(){this.referrer=this.currentUrl,this.currentUrl=window.location.href},init:function(e){for(var t in e)this.hasOwnProperty(t)&&"object"==typeof this[t]&&!this[t].length?this[t]=a.default.mergeMap(this[t],e[t]):this[t]=e[t]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t}if(e instanceof Object){t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=o(e[a]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function a(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("getObjectKeys called on a non-object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);if(c)for(var r=0,o=d;r<o;r++){var a=f[r];e.hasOwnProperty(a)&&t.push(a)}return t}function i(e){return a(e).length}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=window,c=!0,f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=f.length;for(var p in{toString:null})c=!1;t.default={generateUUID:function(){var e=l.default.getCurrentTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)});return t},swap:function(e){return e},getURLParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[null,""])[1].replace(/\+/g,"%20"))||null},mergeMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},clone:o,getUrlPath:function(e,t){var n=e.replace(/https?:\/\/[^\/]+/i,"");return t?n:n.split("?")[0].split("#")[0]},getObjectKeys:a,size:i,getTopLevelDomain:function(e){var t=e.split(".");return"com"==t[t.length-1]?t.slice(-2).join("."):null},djb2HashCode:function(e){for(var t=5381,n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return Math.abs(t)},getTime:function(){return(new Date).getTime()},requestJsonp:function(e,t,n){var r="igniter_"+this.generateUUID().replace(/-/g,"");u[r]=function(t){e.apply(null,[t].concat(n||[]))};var o=t+(t.indexOf("?")>=0?"&":"?")+"jsonp="+r,a=document.createElement("script");a.type="text/javascript",a.setAttribute("src",o),document.head.appendChild(a)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCurrentTime:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function a(e,t,n){i(e,t,n,1e3)}function i(e,t,n,r){r=r||864e5;var o="";if(n){var a=new Date;a.setTime(a.getTime()+n*r),o=";expires="+a.toGMTString()}var i=h.default.cookieDomain?";domain="+h.default.cookieDomain:"";l(e),document.cookie=e+"="+t+o+i+";path=/"}function s(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function l(e){var t=h.default.cookieDomain?";domain="+h.default.cookieDomain:"";document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+t+";path=/",document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/"}function u(e){"string"==typeof e&&(h.default.uid=e,i(h.default.permKey,h.default.uid,365))}function c(e){"string"==typeof e&&(h.default.gid=e,i(h.default.thirdKey,e,365))}function f(){v.default.requestJsonp(c,"//query.petametrics.com/gid")}function d(){var e=!1,t=(!s(h.default.numPerKey),o());h.default.globalTracking&&(h.default.gid=s(h.default.thirdKey),(!h.default.gid||Math.random()<.05)&&f()),h.default.uid=s(h.default.permKey),h.default.uid?u(h.default.uid):(e=!0,t?u(v.default.generateUUID()):h.default.uid="fp:"),h.default.sid=s(h.default.sessKey),h.default.sid||(t?(h.default.sid=v.default.generateUUID(),i(h.default.sessKey,h.default.sid)):h.default.sid="fp:"),h.default.pvid=v.default.generateUUID(),h.default.customBrowsingHistory&&h.default.sdk.historyTracking?h.default.customBrowsingHistory():l(h.default.histKey),l(h.default.numPerKey),l(h.default.numSesKey),l(h.default.sessRefKey),l(h.default.userRefKey),i(h.default.permKey,h.default.uid,365)}function p(e,t,n){var r=h.default.clickHist.clickHistCKey,o=decodeURIComponent(s(r)),a="null"!==o?o.split(","):[],l=h.default.clickHist.cap||10,u=!1,c=h.default.clickHist.urlTrans(e);if(a=a.slice(Math.max(a.length-l,0),a.length),null!==c&&void 0!==c&&""!==c){for(var f=0;f<a.length;f++)a[f].split("|")[0]===c&&(u=!0);u||(a.length>=l&&a.shift(),a.push(c+"|"+t+"|"+n)),i(r,encodeURIComponent(a.join(",")),365)}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(2),h=r(g),m=n(6),y=(r(m),n(3)),v=r(y);t.default={setGlobalId:c,setUserId:u,createCookie:i,readCookie:s,deleteCookie:l,initializeCookies:d,hasCookiesEnabled:o,getItem:s,setItem:a,removeItem:l,maxMsgSlot:3,name:"cookie",appendToClickHist:p},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function a(){var e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function i(e){var t,n,r,o=0;if(0==e.length)return o;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),o=(o<<5)-o+n,o|=0;return o}function s(e){for(var t=JSON.parse(m(v.default.shown.freqCapKey))||[],n=0;n<e.length;++n){for(;t.length>=v.default.shown.bufferSize;)t.shift();t.push(i(e[n].split("?")[0].split("#")[0]))}g(v.default.shown.freqCapKey,JSON.stringify(t))}function l(){for(var e=JSON.parse(m(v.default.shown.freqCapKey))||[],t={},n=[],r=e.length;--r>=0&&n.length<v.default.shown.maxExclude;){var o=e[r];t[o]?t[o]+=1:t[o]=1,t[o]>=v.default.shown.freqCap&&n.indexOf(o)==-1&&n.push(o)}var a=[];return n.forEach(function(e){a.push(e)}),JSON.stringify(a)}function u(e){var t="http://www.ozy.com/acumen/";if(0!=e.indexOf(t))f(e);else{var n=e.replace("/ozy-ted-","/"),r=n.replace(t,""),o=t+r,a=t+"ozy-ted-"+r;f(o),f(a)}}function c(e,t,n){var r=v.default.clickHist.clickHistLKey||"_igClkHis",o=JSON.parse(m(r))||[],a=v.default.clickHist.cap||10,i=!1,s=v.default.clickHist.urlTrans(e);if(o=o.slice(Math.max(o.length-a,0),o.length),null!==s&&void 0!==s&&""!==s){for(var l=0;l<o.length;l++)o[l].split("|")[0]===s&&(i=!0);i||(o.length>=a&&o.shift(),o.push(s+"|"+t+"|"+n)),g(r,JSON.stringify(o))}}function f(e){for(var t=JSON.parse(m(v.default.longHistKey))||[],n=i(e),r=t.length,o=!1,a=0;a<r;++a)if(t[a]==n){o=!0;for(var s=a+1;s<r;++s)t[s-1]=t[s];t[r-1]=n;break}if(!o){for(;t.length>=v.default.longHist.bufferSize;)t.shift();t.push(n)}g(v.default.longHistKey,JSON.stringify(t))}function d(){var e=m(v.default.longHistKey)||JSON.stringify([]);if(v.default.longHist.dropRecent>0){var t=JSON.parse(e).length;t>=v.default.longHist.dropRecent?e=JSON.stringify(JSON.parse(e).slice(0,t-v.default.longHist.dropRecent)):JSON.stringify([])}return e}function p(){try{b.setItem("_igst","8");var e="8"==b.getItem("_igst");return b.removeItem("_igst"),e}catch(e){return!1}}function g(e,t,n){b.setItem(e,t),n&&b.setItem(e+S,(new Date).getTime()+1e3*n)}function h(e){b.removeItem(e),b.removeItem(e+S)}function m(e){var t=b.getItem(e+S);return!t||t>=(new Date).getTime()?b.getItem(e)||null:(h(e),null)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(2),v=r(y),w=window,b=o()?w.localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},k=a()?w.sessionStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},S="expireTimestamp";t.default={hasStorageEnabled:p,setItem:g,getItem:m,removeItem:h,maxMsgSlot:10,name:"session_storage",storeVisibleElements:s,getFrequent:l,appendUrlToLongHist:u,getLongHist:d,appendToClickHist:c,sessStorage:k},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){d&&(f+=1*new Date-d,d=!1)}function a(){s.default.addEvent(c,"blur",function(){o()}),s.default.addEvent(c,"focus",function(){d=1*new Date})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),s=r(i),l=n(2),u=r(l),c=window,f=0,d=u.default.loadedAt;t.default={getDuration:function(){return f},stopDuration:o,initializeDurationEvents:a},e.exports=t.default},function(e,t){"use strict";function n(e){/in[^t]/.test(document.readyState)?a.setTimeout(function(){n(e)},100):e()}function r(e){/complete/.test(document.readyState)?e():a.setTimeout(function(){r(e)},100)}function o(e,t){e()?t():a.setTimeout(function(){o(e,t)},50)}Object.defineProperty(t,"__esModule",{value:!0});var a=window;t.default={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,a.event)})},domReady:n,domComplete:r,doWhenReady:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){g[e]=t}function a(e,t){h[e]=t}function i(e,t){m[e]=t}function s(e){var t={dedupGid:"0"};return e.widgets||(e.widgets={}),e.widgets["default-widget"]=t,e.itemRegex||(e.itemRegex=".+"),e}function l(){return s(p.default.jsKey in m?m[p.default.jsKey]:{})}function u(){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].run&&g[p.default.jsKey].run()}function c(e){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].render&&g[p.default.jsKey].render(e)}function f(){p.default.jsKey in h&&"undefined"!=typeof h[p.default.jsKey].run&&h[p.default.jsKey].run()}Object.defineProperty(t,"__esModule",{value:!0});var d=n(2),p=r(d),g={},h={},m={};t.default={addExtension:o,addWidgetData:i,getWidgetData:l,addEarlyExtension:a,maybeRunExtension:u,maybeRunEarlyExtension:f,maybeRunExtensionRender:c,reset:function(){g={},h={}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n,t=t||{};n="li_act_server"in t?t.li_act_server:h.default.activity.activityServer;var r=n+"/__activity.gif?";if(r+="e="+encodeURIComponent(e),"widget_click"==e&&(h.default.clickHist.onLocalStorage&&k.default.appendToClickHist(t.clickUrl,t.w,t.source),h.default.clickHist.onCookie&&w.default.appendToClickHist(t.clickUrl,t.w,t.source)),h.default.shown.vizSendCap&&("widget_shown"==e||"widget_visible"==e||"widget_click"==e)&&Array.isArray(t.vi)&&(t.vi=t.vi.slice(0,h.default.shown.vizSendCap)),"conversion"==e&&!t.source){var o=T.default.getURLParameter("li_source"),a=T.default.getURLParameter("li_medium");o&&(t.source=o),a&&(t.w=a)}r+="&"+y.default.forCurrentExample();for(var i in t)t.hasOwnProperty(i)&&(r+="[object Array]"===Object.prototype.toString.call(t[i])?"&"+i+"="+encodeURIComponent(JSON.stringify(t[i])):"&"+i+"="+encodeURIComponent(t[i]));for(var s in h.default.globalCtx)h.default.globalCtx.hasOwnProperty(s)&&(r+="[object Array]"===Object.prototype.toString.call(h.default.globalCtx[s])?"&"+s+"="+encodeURIComponent(JSON.stringify(h.default.globalCtx[s])):"&"+s+"="+encodeURIComponent(h.default.globalCtx[s]));return r}function a(e){k.default.setItem(h.default.latestVizKey,JSON.stringify(e))}function i(){return k.default.getItem(h.default.latestVizKey)}function s(e,t){"widget_click"==e?!f(e,t):l(e,t)}function l(e,t){try{if(h.default.activity.activitySamplingPercent<100&&T.default.djb2HashCode(h.default.uid)%100>h.default.activity.activitySamplingPercent)return;var n=window.location.href;if(n&&h.default.defaultApiEvents&&"-1"!=h.default.defaultApiEvents.indexOf(e)){if(h.default.activity.itemRegex&&null===n.match(h.default.activity.itemRegex))return;if(h.default.activity.excludeRegex&&null!==n.match(h.default.activity.excludeRegex))return}if(h.default.jsKey||console.log("LiftIgniter send called before LiftIgniter init. The most typical reason for this is if you are including our Javascript snippet twice (this could be twice on the page, or once on the page and once in Google Tag Manager, or twice in Google Tag Manager). If you have more questions, please contact support@liftigniter.com"),h.default.disabledCust[h.default.jsKey])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(h.default.jsKey&&!h.default.disabledCust[h.default.jsKey]){c(e);var r=new Image;r.src=o(e,t)}}catch(t){console.log("Unexpected error when trying to send event "+e,t)}}function u(){return h.default.robustUseStorage?k.default.getItem(h.default.lastClick):h.default.robustUseCookie?w.default.getItem(h.default.lastClick):void 0}function c(e){x.default&&x.default.eventCounts&&(x.default.eventCounts[e]?x.default.eventCounts[e]=x.default.eventCounts[e]+1:x.default.eventCounts[e]=1),x.default&&x.default.firstTsplByEventType&&!x.default.firstTsplByEventType[e]&&performance&&performance.now&&"function"==typeof performance.now&&(x.default.firstTsplByEventType[e]=0|performance.now())}function f(e,t){function n(e,t,n){n=T.default.mergeMap(n,{method:"send_robust",buffer:e.name});var r=o(t,n);e.setItem(h.default.lastClick,r);for(var a=0;a<e.maxMsgSlot&&e.getItem(h.default.robustMsgSlot+a);a++);return a<e.maxMsgSlot&&e.setItem(h.default.robustMsgSlot+a,r,120),r==e.getItem(h.default.robustMsgSlot+a)&&(d(e,a),!0)}if(!(h.default.activity.activitySamplingPercent<100&&T.default.djb2HashCode(h.default.uid)%100>h.default.activity.activitySamplingPercent)){if(c(e),!h.default.jsKey)throw"Petametrics.send called before Petametrics.init";return!(!h.default.robustUseStorage||!n(k.default,e,t))||!(!h.default.robustUseCookie||!n(w.default,e,t))}}function d(e,t){var n=e.getItem(h.default.robustMsgSlot+t);if(n){var r=function(){e.removeItem(h.default.robustMsgSlot+t)},o=new Image;o.onload=r,o.src=n}}function p(){for(var e=0;e<w.default.maxMsgSlot;e++)d(w.default,e);for(var e=0;e<k.default.maxMsgSlot;e++)d(k.default,e)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(2),h=r(g),m=n(11),y=r(m),v=n(5),w=r(v),b=n(6),k=r(b),S=n(3),T=r(S),I=n(16),x=r(I);t.default={send:s,getUrl:o,sendRobust:f,checkBuffer:p,storeLatestVisibleItems:a,getLatestVisibleItems:i,getLastClick:u,updateInternalEventCounts:c},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(window.location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function a(e,t){t=t||"&";var n=o(e);return n?t+e+"="+n:""}function i(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),a=o.length;a-- >0;)o[a].lastIndexOf(r,0)!==-1&&o.splice(a,1);return e=n[0]+(o.length>0?"?"+o.join("&"):"")}return e}function s(e){return"ts="+encodeURIComponent(h.default.getCurrentTime())+"&jsk="+encodeURIComponent(u.default.jsKey)+"&jsv="+encodeURIComponent(u.default.version)+"&cu="+(e?u.default.activity.urlTransform(u.default.frontPageBoost):encodeURIComponent(u.default.activity.urlTransform(u.default.currentUrl)))+(u.default.errorString?"&errs="+u.default.errorString:"")}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(12),f=r(c),d=n(13),p=r(d),g=n(4),h=r(g),m=n(14),y=(r(m),n(15)),v=(r(y),n(6)),w=r(v),b=n(5),k=r(b),S=n(16),T=r(S);t.default={forCurrentExample:function(e){var t="",n="",r="",o="",a="";if(u.default.qOpt.dynScrollInfo)try{t="&sppx="+encodeURIComponent(f.default.maxVertScrollPos())+"&sppc="+encodeURIComponent(f.default.maxVertScrollPct())+"&dh="+encodeURIComponent(f.default.getDocHeight())+"&iwid="+encodeURIComponent(window.innerWidth)+"&ihei="+encodeURIComponent(window.innerHeight)}catch(e){}try{var i;i=u.default.histSettings.origin?"&ccu="+encodeURIComponent(u.default.activity.canonicalUrlTransform(u.default.histSettings.origin+window.location.pathname)):u.default.customContext.id?"&ccu="+encodeURIComponent(u.default.customContext.id):u.default.useCanonicalUrl?"&ccu="+(e?encodeURIComponent(u.default.frontPageBoost):encodeURIComponent(u.default.activity.canonicalUrlTransform(p.default.getCanonicalUrl()))):"",n="&ct="+encodeURIComponent(p.default.getCurrentTitle())+i}catch(e){console.log(e)}try{var l="";u.default.clickHist.send&&(u.default.clickHist.onLocalStorage?l="&clkHist="+w.default.getItem(u.default.clickHist.clickHistLKey):u.default.clickHist.onCookie&&(l="&clkHist="+JSON.stringify(k.default.readCookie(u.default.clickHist.clickHistCKey).split(",")))),r=l}catch(e){}try{u.default.currentSeries&&""!=u.default.currentSeries&&void 0!==u.default.currentSeries&&(o="&currentSeries="+encodeURIComponent(u.default.currentSeries))}catch(e){}try{if(performance&&performance.now&&"function"==typeof performance.now){var c=0|performance.now();a="&tspl="+c}T.default.startupTimes.beaconLoadStartTime&&(a=a+"&blst="+T.default.startupTimes.beaconLoadStartTime),T.default.startupTimes.initStartTime&&(a=a+"&ist="+T.default.startupTimes.initStartTime),T.default.startupTimes.initEndTime&&(a=a+"&iet="+T.default.startupTimes.initEndTime)}catch(e){console.log("Error determining time since page load")}var d=u.default.sdk.manualHist?encodeURIComponent(JSON.stringify(u.default.sdk.manualHist)):encodeURIComponent(JSON.stringify(u.default.getHistList()));return s()+(u.default.gid?"&gid="+encodeURIComponent(u.default.gid):"")+"&uid="+encodeURIComponent(u.default.uid)+"&sid="+encodeURIComponent(u.default.sid)+"&pvid="+encodeURIComponent(u.default.pvid)+(u.default.activity.includeBrowsingHistory?"&hist="+d:"")+"&tzo="+encodeURIComponent(h.default.getTimezoneOffset())+"&ua="+encodeURIComponent(u.default.userAgent)+"&l="+encodeURIComponent(u.default.language)+"&os="+encodeURIComponent(u.default.os)+(u.default.qOpt.screenDim?"&scd="+encodeURIComponent(u.default.colorDepth)+"&scrh="+encodeURIComponent(u.default.screenHeight)+"&scrw="+encodeURIComponent(u.default.screenWidth):"")+(u.default.referrer?"&ref="+encodeURIComponent(u.default.referrer):"")+t+n+r+o+a+(u.default.customInfo?u.default.customInfo():"")},getParam:o,copyParam:a,removeParam:i,basicParam:s},e.exports=t.default},function(e,t){"use strict";function n(){var e=document.body;return document&&document.scrollTop||e&&e.scrollTop||0}function r(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,t.scrollHeight||0,e.offsetHeight||0,t.offsetHeight||0,e.clientHeight||0,t.clientHeight||0)}function o(){var e=document.body,t=document.documentElement;return window.innerHeight||t.clientHeight||e.clientHeight||0}function a(){var e=(n()+o())/r()*100;return e>=100?100:e<=0?0:e}function i(){var e=n();e>s&&(s=e);var t=a();t>l&&(l=Math.floor(t))}Object.defineProperty(t,"__esModule",{value:!0});var s=0,l=0;t.default={getDocHeight:r,getWinHeight:o,getVertScrollPos:n,getVertScrollPct:a,checkScroll:i,maxVertScrollPos:function(){return s},maxVertScrollPct:function(){return l},reset:function(){l=0,s=0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t="undefined"!=typeof t&&t;for(var n=[],r=T.querySelectorAll(e),o=0;o<r.length;o++)n.push(r[o].textContent);return t?n:n[0]}function a(e,t,n){n="undefined"!=typeof n&&n;for(var r=[],o=T.querySelectorAll(e),a=0;a<o.length;a++)r.push(o[a].getAttribute(t));return n?r:r[0]}function i(e,t){for(var n=!0;n;){var r=e,o=t;if(n=!1,0==o.length)return r;e=r[o[0]],t=o.slice(1),n=!0}}function s(e){return i(S,e.split("."))}function l(e,t){if("undefined"!=typeof t){var n=[],r=t.exec(e);if(t.global)for(;r;)n=n.concat(r.slice(1)),r=t.exec(e);else n=r.slice(1);return n}return[e]}function u(e){for(var t={},n=T.querySelectorAll("meta[property^='"+e+":'][content]"),r=0;r<n.length;r++){
var o=n[r].getAttribute("property").slice(e.length+1),a=t[o]||[];a.push(n[r].getAttribute("content")),t[o]=a}return t}function c(){var e=u("og");if(void 0!=e.type){var t=e.type[0].split(".")[0],n=k.default.inventory.defaultType;switch(t){case"article":case"video":case"book":case"music":e=w.default.mergeMap(u(t),e);break;default:e=w.default.mergeMap(u(n),e)}}return e}function f(){var e=T.querySelector("#liftigniter-metadata");if(e){var t=JSON.parse(e.textContent);for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if("number"!=typeof r){r=[].concat(r);for(var o=0;o<r.length;o++)r[o]=r[o].toString()}}return t}return{}}function d(e){var t,n=[];try{if("text"==e.type?t=o(e.selector,!0):"attribute"==e.type?t=a(e.selector,e.attribute,!0):"url"==e.type?t=S.location.href:"var"==e.type&&(t=[s(e.variable).toString()]),t)for(var r=0;r<t.length;r++){var i=t[r];"function"==typeof e.transform&&(i=e.transform(i)),i=l(i,e.regex),"undefined"!=typeof e.joinWith&&(i=[i.join(e.joinWith)]),n=n.concat(i)}}catch(e){n=[]}return n}function p(){var e=T.querySelector("meta[property='og:title'][content]");return e?e.getAttribute("content"):g()||"-1"}function g(){var e=T.getElementsByTagName("title");if(e.length>0)return e[0].textContent}function h(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function m(){function e(){if(k.default.inventory.useOpenGraphForCanonicalUrl&&(e=T.querySelector("meta[property='og:url'][content]")))return e.getAttribute("content");if(k.default.inventory.useLinkRelForCanonicalUrl){var e=T.querySelector("link[rel=canonical][href]");if(e)return h(e.getAttribute("href"))}var t=S.location.href;return k.default.inventory.stripTagsForCanonicalUrl&&(t=t.split("?")[0]),k.default.inventory.stripHashesForCanonicalUrl&&(t=t.split("#")[0]),t}return y||(y=k.default.inventory.canonicalUrlTransform(e())),y}Object.defineProperty(t,"__esModule",{value:!0});var y,v=n(3),w=r(v),b=n(2),k=r(b),S=window,T=document;t.default={getCurrentTitle:p,getTitleFallback:g,getCanonicalUrl:m,getText:o,getAttribute:a,scrapeFeature:d,scrapeOpenGraph:c,scrapeJSON:f},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={randomString:function(){return Math.random().toString(36).substr(2,16)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,a,i;return o=2147483648&e,a=2147483648&t,n=1073741824&e,r=1073741824&t,i=(1073741823&e)+(1073741823&t),n&r?2147483648^i^o^a:n|r?1073741824&i?3221225472^i^o^a:1073741824^i^o^a:i^o^a}function r(e,t,n){return e&t|~e&n}function o(e,t,n){return e&n|t&~n}function a(e,t,n){return e^t^n}function i(e,t,n){return t^(e|~n)}function s(e,o,a,i,s,l,u){return e=n(e,n(n(r(o,a,i),s),u)),n(t(e,l),o)}function l(e,r,a,i,s,l,u){return e=n(e,n(n(o(r,a,i),s),u)),n(t(e,l),r)}function u(e,r,o,i,s,l,u){return e=n(e,n(n(a(r,o,i),s),u)),n(t(e,l),r)}function c(e,r,o,a,s,l,u){return e=n(e,n(n(i(r,o,a),s),u)),n(t(e,l),r)}function f(e){for(var t,n=e.length,r=n+8,o=(r-r%64)/64,a=16*(o+1),i=Array(a-1),s=0,l=0;l<n;)t=(l-l%4)/4,s=l%4*8,i[t]=i[t]|e.charCodeAt(l)<<s,l++;return t=(l-l%4)/4,s=l%4*8,i[t]=i[t]|128<<s,i[a-2]=n<<3,i[a-1]=n>>>29,i}function d(e){var t,n,r="",o="";for(n=0;n<=3;n++)t=e>>>8*n&255,o="0"+t.toString(16),r+=o.substr(o.length-2,2);return r}function p(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var g,h,m,y,v,w,b,k,S,T=Array(),I=7,x=12,C=17,R=22,E=5,_=9,O=14,D=20,A=4,U=11,P=16,M=23,N=6,q=10,L=15,F=21;for(e=p(e),T=f(e),w=1732584193,b=4023233417,k=2562383102,S=271733878,g=0;g<T.length;g+=16)h=w,m=b,y=k,v=S,w=s(w,b,k,S,T[g+0],I,3614090360),S=s(S,w,b,k,T[g+1],x,3905402710),k=s(k,S,w,b,T[g+2],C,606105819),b=s(b,k,S,w,T[g+3],R,3250441966),w=s(w,b,k,S,T[g+4],I,4118548399),S=s(S,w,b,k,T[g+5],x,1200080426),k=s(k,S,w,b,T[g+6],C,2821735955),b=s(b,k,S,w,T[g+7],R,4249261313),w=s(w,b,k,S,T[g+8],I,1770035416),S=s(S,w,b,k,T[g+9],x,2336552879),k=s(k,S,w,b,T[g+10],C,4294925233),b=s(b,k,S,w,T[g+11],R,2304563134),w=s(w,b,k,S,T[g+12],I,1804603682),S=s(S,w,b,k,T[g+13],x,4254626195),k=s(k,S,w,b,T[g+14],C,2792965006),b=s(b,k,S,w,T[g+15],R,1236535329),w=l(w,b,k,S,T[g+1],E,4129170786),S=l(S,w,b,k,T[g+6],_,3225465664),k=l(k,S,w,b,T[g+11],O,643717713),b=l(b,k,S,w,T[g+0],D,3921069994),w=l(w,b,k,S,T[g+5],E,3593408605),S=l(S,w,b,k,T[g+10],_,38016083),k=l(k,S,w,b,T[g+15],O,3634488961),b=l(b,k,S,w,T[g+4],D,3889429448),w=l(w,b,k,S,T[g+9],E,568446438),S=l(S,w,b,k,T[g+14],_,3275163606),k=l(k,S,w,b,T[g+3],O,4107603335),b=l(b,k,S,w,T[g+8],D,1163531501),w=l(w,b,k,S,T[g+13],E,2850285829),S=l(S,w,b,k,T[g+2],_,4243563512),k=l(k,S,w,b,T[g+7],O,1735328473),b=l(b,k,S,w,T[g+12],D,2368359562),w=u(w,b,k,S,T[g+5],A,4294588738),S=u(S,w,b,k,T[g+8],U,2272392833),k=u(k,S,w,b,T[g+11],P,1839030562),b=u(b,k,S,w,T[g+14],M,4259657740),w=u(w,b,k,S,T[g+1],A,2763975236),S=u(S,w,b,k,T[g+4],U,1272893353),k=u(k,S,w,b,T[g+7],P,4139469664),b=u(b,k,S,w,T[g+10],M,3200236656),w=u(w,b,k,S,T[g+13],A,681279174),S=u(S,w,b,k,T[g+0],U,3936430074),k=u(k,S,w,b,T[g+3],P,3572445317),b=u(b,k,S,w,T[g+6],M,76029189),w=u(w,b,k,S,T[g+9],A,3654602809),S=u(S,w,b,k,T[g+12],U,3873151461),k=u(k,S,w,b,T[g+15],P,530742520),b=u(b,k,S,w,T[g+2],M,3299628645),w=c(w,b,k,S,T[g+0],N,4096336452),S=c(S,w,b,k,T[g+7],q,1126891415),k=c(k,S,w,b,T[g+14],L,2878612391),b=c(b,k,S,w,T[g+5],F,4237533241),w=c(w,b,k,S,T[g+12],N,1700485571),S=c(S,w,b,k,T[g+3],q,2399980690),k=c(k,S,w,b,T[g+10],L,4293915773),b=c(b,k,S,w,T[g+1],F,2240044497),w=c(w,b,k,S,T[g+8],N,1873313359),S=c(S,w,b,k,T[g+15],q,4264355552),k=c(k,S,w,b,T[g+6],L,2734768916),b=c(b,k,S,w,T[g+13],F,1309151649),w=c(w,b,k,S,T[g+4],N,4149444226),S=c(S,w,b,k,T[g+11],q,3174756917),k=c(k,S,w,b,T[g+2],L,718787259),b=c(b,k,S,w,T[g+9],F,3951481745),w=n(w,h),b=n(b,m),k=n(k,y),S=n(S,v);var j=d(w)+d(b)+d(k)+d(S);return j.toLowerCase()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(2),s=r(i),l=n(10),u=r(l);window,document,a.default.size;t.default={fetchData:{finalized:!1,startTime:0,timeout:1e4,fetchQueue:[],dedupQueue:{},recs:{},calls:{},dedupMax:{},retried:{}},eventCounts:{},firstTsplByEventType:{},errorMessagesByEventType:{},shownSourceMap:{},inventoryData:{scrapingFinished:!1,inventorySent:!1,timing:{}},startupTimes:{},refresh:function(){this.fetchData=a.default.mergeMap(this.fetchData,{dedupQueue:{}})},runDiagnostics:function(){var e=0,t=0,n=0,r=void 0;performance&&performance.now&&"function"==typeof performance.now&&(r=0|performance.now());var o="",a="As a result, LiftIgniter loads very late and its ability to improve recommendation quality on your site is limited. This probably means your site is slow, your Internet connection is slow, or you are not including our snippet early enough in the page.",i="If this message persists across multiple page loads, please get in touch with support@liftigniter.com to discuss solutions.";o="Diagnostics for Javascript key "+s.default.jsKey+" run at "+new Date+" ("+r+" ms after initial page load). Get full details of requests to LiftIgniter by going to the Network Panel and filtering to petametrics. Messages marked [ERROR] definitely deserve remedial action, messages marked [WARNING] deserve serious attention, and messages marked [INFO] deserve consideration. Messages marked [DEBUG] are for digging deeper into things, and can be ignored unless you have a specific reason to look at them. Keep in mind that if you have selected 'Disable Cache' in your Network Panel, then load times would be comparable to those of first-time visitors; if you have not, then load times are comparable to those of repeat visitors",console.log(o);try{keys(this.errorMessagesByEventType).length>0?(console.log("[ERROR] There were errors on this page! Error messages on this page, grouped by error type",this.errorMessagesByEventType),e+=keys(this.errorMessagesByEventType).length):console.log("No errors were thrown on this page!")}catch(e){console.log("[ERROR] Error messages on this page, grouped by error type",this.errorMessagesByEventType)}this.eventCounts.pageview&&0!=this.eventCounts.pageview||(console.log('[WARNING] No pageview events were sent for this page! Have you included $p("send","pageview") at the bottom of your snippet?'),t+=1),this.eventCounts.pageview&&this.eventCounts.pageview>1&&(console.log('[WARNING] Multiple pageview events were sent for this page! This could be ok if you are using a single-page app or infinite scroll. Otherwise, please check if you are including the snippet twice, or calling $p("send","pageview") multiple times'),t+=1),!this.fetchData.finalized||this.eventCounts.widget_shown||this.eventCounts.widget_tracking_error||(console.log('[WARNING] You requested recommendations but did not send a widget_shown event. This probably means that you are not calling the $p("track",... function properly'),t+=1),this.fetchData.finalized&&this.eventCounts.widget_shown&&!this.shownSourceMap.LI&&!this.eventCounts.widget_tracking_error&&(console.log('[WARNING] You requested recommendations but did not send a widget_shown event with source=LI. This means that either you are not calling the $p("track",... function properly, or you are calling it with the wrong source'),t+=1),this.fetchData&&this.fetchData.finalized&&!this.eventCounts.widget_shown&&!this.shownSourceMap.LI&&(console.log("[WARNING] You requested recommendations and tracked recommendations, but you did not track any recommendations with source=LI"),t+=1),this.shownSourceMap.LI&&this.shownSourceMap.base&&(console.log("[WARNING] You are tracking recommendations with both LI and base on the same page. While this can be done, it means that we cannot compute session-level metrics for users (as the same user is in both LI and base slices). If you have not discussed this issue with LiftIgniter, please contact support@liftigniter.com to discuss this"),t+=1),this.startupTimes.beaconLoadStartTime&&this.startupTimes.beaconLoadStartTime>3500&&(console.log("[WARNING] You executed the snippet to load the LiftIgniter beacon "+this.startupTimes.beaconLoadStartTime+" milliseconds after, which is more than 3.5 seconds after, the start of page load. "+a+" "+i),t+=1),this.startupTimes.beaconLoadStartTime&&this.startupTimes.initStartTime&&this.startupTimes.initStartTime-this.startupTimes.beaconLoadStartTime>1e3&&(console.log("[WARNING] The LiftIgniter beacon appears to have taken "+(this.startupTimes.initStartTime-this.startupTimes.beaconLoadStartTime)+" milliseconds to load, which is more than the expected maximum of 1 second. This time is measured from after the load start time, which itself occurred "+this.startupTimes.beaconLoadStartTime+" milliseconds after page load start. This could be because of a poor Internet connection or due to a large amount of bandwidth being used by your site. "+i),t+=1),this.startupTimes.initStartTime&&!this.startupTimes.beaconLoadStartTime&&this.startupTimes.initStartTime>4500&&(console.log("[WARNING] The LiftIgniter beacon finished loading and started initializing "+this.startupTimes.initStartTime+" milliseconds after, which is more than 4.5 seconds after, the start of page load. "+a+" "+i),t+=1),this.startupTimes.initEndTime&&this.startupTimes.initStartTime&&this.startupTimes.initEndTime-this.startupTimes.initStartTime>400&&console.log("[WARNING] Initializing the JavaScript with your configurations took "+(this.startupTimes.initEndTime-this.startupTimes.initStartTime)+" milliseconds, which exceeds the threshold of 400 milliseconds. This could mean a very complex initial configuration, a slow browser or operating system, or a lot of code running on the site. "+i),this.firstTsplByEventType.pageview&&this.firstTsplByEventType.pageview>5e3&&!this.startupTimes.initEndTime&&(console.log("[WARNING] Your pageview event fired at "+this.firstTsplByEventType.pageview+" milliseconds after page load, which is more than 5 seconds after, the start of page load. "+a+" "+i),t+=1),this.firstTsplByEventType.widget_shown&&this.firstTsplByEventType.widget_shown>8e3&&(console.log("[WARNING] Your first widget_shown event fired at "+this.firstTsplByEventType.widget_shown+" milliseconds after page load, which is more than 8 seconds after, the start of page load. This could mean a slow Internet connection, slow site, or late load of recommendations. Unless you have explicitly chosen to lazy load the recommendations, we recommend debugging the cause of the delayed load time"),t+=1),this.inventoryData&&this.inventoryData.timing&&!this.inventoryData.scrapingFinished&&!this.errorMessagesByEventType.scraping_fail&&(console.log("[WARNING] No inventory scraped from this page. If you explicitly turned off inventory collection on this page, it is not an issue; however, if you expected to send inventory from this page, then check if your DOM never completes loading. If your DOM has not yet loaded but will load soon, wait a few seconds and rerun runDiagnostics"),t+=1),this.inventoryData&&this.inventoryData.scrapingFinished&&!this.inventoryData.inventorySent&&(console.log("[WARNING] Inventory scraped but not sent. This could be because the inventory item failed some of LiftIgniter's filters or sanity checks (for instance, it was a home page or lacked rudimentary metadata. If you have concerns about this, contact support@liftigniter.com"),t+=1),this.inventoryData&&this.inventoryData.scrapingFinished&&this.inventoryData.timing&&this.inventoryData.timing.scrape&&this.inventoryData.timing.scrape>1e4&&(console.log("[WARNING] Inventory scraping from this page finished more than 10 seconds after the start of page load. This could mean slow Internet, a slow-loading page, or a DOM that takes too long to complete. One possible implication is that for very rarely accessed pages, we may be more likely to miss getting them in our inventory because we never saw a user stick around on the page long enough. If you see this issue persist across multiple page refreshes, contact support@liftigniter.com"),t+=1),this.fetchData&&!this.fetchData.finalized&&this.fetchData.fetchQueue&&0==this.fetchData.fetchQueue.length&&!this.eventCounts.widget_shown&&(console.log("[INFO] You have not requested any recommendations using the LiftIgniter SDK. Do you not want to show recommendations on this page?"),n+=1),this.fetchData&&!this.fetchData.finalized&&this.fetchData.fetchQueue&&this.fetchData.fetchQueue.length>0&&(console.log("[INFO] You still have some pending requests for recommendations. Wait a few seconds and rerun runDiagnostics to get more accurate diagnostics!"),t+=1),this.eventCounts.widget_shown&&!this.eventCounts.widget_visible&&(console.log("[INFO] You have rendered recommendation widgets on the page but no visibility events have fired for any widget. Scroll to the recommendation area and rerun runDiagnostics to check that the visibility event fires (which will make this INFO message go away)"),n+=1),this.eventCounts.widget_visible&&!this.eventCounts.widget_click&&(console.log("[INFO] No click events have fired on this page. To test click events, right-click on one of the tracked recommendation areas, then rerun runDiagnostics. If successful, this INFO message will go away"),n+=1),console.log("[DEBUG] fetchData (relevant for pending or completed fetches for recommendations; not relevant if you are not requesting recommendations)",this.fetchData),console.log("[DEBUG] Startup times in milliseconds from start of page load",this.startupTimes),console.log("[DEBUG] Event counts sent on this page, grouped by event type",this.eventCounts),console.log("[DEBUG] Time in milliseconds since page load on this page, for the first event of each type",this.firstTsplByEventType),console.log("[DEBUG] Number of widget_shown events by source: ",this.shownSourceMap),console.log("[DEBUG] Inventory data: ",this.inventoryData),performance&&console.log("[DEBUG] Performance data from browser: ",performance);var l=e+" errors, "+t+" warnings, "+n+" info messages printed";console.log(l),console.log("If including this data in email to support@liftigniter.com, please include everything that was printed in the console"),u.default.send("runDiagnostics",{})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(3),s=r(i),l=window,u=[];t.default={initializeTimers:function(){if(a.default.qOpt.sendTimer&&a.default.timers)for(var e in a.default.timers)this.sendLater(e,a.default.timers[e])},clearTimers:function(){for(var e=0;e<u.length;e++)l.clearTimeout(u[e])},sendLater:function(e,t){u.push(l.setTimeout(function(){var t={w:s.default.getURLParameter("li_medium"),source:s.default.getURLParameter("li_source")};l[a.default.pmVar]("send",e,t)},t))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){t=t||{};var o=e.getAttribute(n)||e.getAttribute("data-"+n);return o?o:t.hasOwnProperty(n)?t[n]:r}function a(e,t,n){try{var r=n||"li",o=e.href;o.indexOf(r+"_")>=0&&(o=y.default.removeParam(o,r+"_source"),o=y.default.removeParam(o,r+"_medium")),e.href=o+(o.indexOf("?")>=0?"&":"?")+(t.source?r+"_source="+t.source:"")+(t.w?"&"+r+"_medium="+t.w:"")}catch(e){var a='Error tagging anchors when invoking the $p("track",...) function. This usually happens when were unable to find any anchors in the tracked area. It could be because you are tracking the incorrect area, or it could be because the content loads dynamically. Click tracking may still work but we won\'t be able to determine the click URL. Error:'+e;h.default.errorString=""+e,I.default.send("widget_tracking_error",t),D.default&&D.default.errorMessagesByEventType&&(D.default.errorMessagesByEventType.widget_tracking_error=a),console.log(a),h.default.errorString=void 0}}function i(e,t,n,r){if(!(P[e].numUnitsToTag<=0)){var o=Array.prototype.slice.call(t.querySelectorAll(n));o&&o.length>0&&P[e].numUnitsToTag-- >0&&o.forEach(function(e){a(e,r)})}}function s(e,t,n){var r=P[e].el,s=b.default.clone(P[e].opts);if(!s.noCollectWidgetInfo){if(s["max-link"]=o(r,s,"max-link",t.maxLink),s["collect-link-selector"]=o(r,s,"collect-link-selector",t.collectLinkSelector),s["tag-unit-max"]=s["tag-unit-max"]||t.tagUnitMax||1e5,s["tag-unit-selector"]=s["tag-unit-selector"]||t.tagUnitSelector,s["tag-link-selector"]=o(r,s,"tag-link-selector",t.tagLinkSelector),s.noTag=s.noTag||t.noTag||h.default.noTag||!1,n=n||{},n.w=P[e].name,!s.noTag){var l=s["tag-link-selector"];s["tag-unit-selector"]?(P[e].numUnitsToTag=s["tag-unit-max"],Array.prototype.slice.call(r.querySelectorAll(s["tag-unit-selector"])).forEach(function(t){i(e,t,l,n)}),S.default.addEvent(r,"DOMNodeInserted",function(t){var r=document.createElement("div");r.innerHTML=t.target.outerHTML||"",r.querySelector(s["tag-unit-selector"])&&i(e,t.target,l,n)})):Array.prototype.slice.call(r.querySelectorAll(l)).forEach(function(e){a(e,n)})}var u=Array.prototype.slice.call(r.querySelectorAll(s["collect-link-selector"])).map(function(e){return e.href}).filter(function(e){return e}).slice(0,s["max-link"]);s.noClickTracking||(d(r,s,n,u),c(r,s,n,e));var f=b.default.mergeMap(n,{vi:JSON.stringify(u)});I.default.storeLatestVisibleItems(u),D.default&&D.default.shownSourceMap&&f&&f.source&&(D.default.shownSourceMap[f.source]?D.default.shownSourceMap[f.source]=D.default.shownSourceMap[f.source]+1:D.default.shownSourceMap[f.source]=1),I.default.send("widget_shown",f)}}function l(e,t,n,r){var o=b.default.mergeMap({clickUrl:h.default.trackingTransURL(e.href)},n);"function"==typeof h.default.sdk.widgetAnalysis&&(o=h.default.sdk.widgetAnalysis(e,o)),S.default.addEvent(e,"click",function(e){o.trigger="click",f(e,t,o,r)}),S.default.addEvent(e,"contextmenu",function(e){o.trigger="contextmenu",f(e,t,o,r)})}function u(e,t,n,r,o){if(!(P[e].numUnitsToTrack<=0)){var a=Array.prototype.slice.call(t.querySelectorAll(n));a&&a.length>0&&P[e].numUnitsToTrack-- >0&&a.forEach(function(e){l(e,r,o)})}}function c(e,t,n,r){var o=t["tag-link-selector"];t["tag-unit-selector"]?(P[r].numUnitsToTrack=t["tag-unit-max"],Array.prototype.slice.call(e.querySelectorAll(t["tag-unit-selector"])).forEach(function(e){u(r,e,o,t,n)}),S.default.addEvent(e,"DOMNodeInserted",function(e){var a=document.createElement("div");a.innerHTML=e.target.outerHTML||"",a.querySelector(t["tag-unit-selector"])&&u(r,e.target,o,t,n)})):Array.prototype.slice.call(e.querySelectorAll(o)).forEach(function(e){l(e,t,n)})}function f(e,t,n,r){var o=n.tType||"widget",a=n.w||"default-widget";try{performance&&performance.now&&(h.default.timing.clickTimes[a]=0|performance.now(),n.tsv=(h.default.timing.clickTimes[a]||0)-(h.default.timing.visibleTimes[a]||0),n.tss=(h.default.timing.clickTimes[a]||0)-(h.default.timing.shownTimes[a]||0))}catch(e){console.log("Encountered unexpected error when adding performance information to visible event: ",e)}r&&alert("click for "+n.w+":"+n.source),I.default.sendRobust(o+"_click",n)||(n=b.default.mergeMap(n,{method:"on_page"}),I.default.send(o+"_click",n),e.metaKey||e.shiftKey||"click"!=e.type||(e.preventDefault(),A.setTimeout(function(){A.location.href=n.clickUrl},100)))}function d(e,t,n,r){var a=function(){E.default.isElementVisible(e)&&!o(e,t,"visible",!1)&&(I.default.send("widget_visible",n),e.setAttribute("data-visible","1"),C.default.storeVisibleElements(r))};S.default.addEvent(U,"DOMContentLoaded",a),S.default.addEvent(U,"load",a),S.default.addEvent(U,"resize",a),S.default.addEvent(U,"scroll",a)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(19),g=(r(p),n(2)),h=r(g),m=n(11),y=r(m),v=n(9),w=(r(v),n(3)),b=r(w),k=n(8),S=r(k),T=n(10),I=r(T),x=n(6),C=r(x),R=n(20),E=r(R),_=n(5),O=(r(_),n(16)),D=r(O),A=window,U=document,P={};t.default={widgets:P,collectWidgetInfo:s,tagAnchor:a,trackAnchor:l,onClick:f},e.exports=t.default},function(e,t,n){var r,o,a;/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,i){"object"==typeof t&&t&&"string"!=typeof t.nodeName?i(t):(o=[t],r=i,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a)))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return h(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return m.call(e,t)}function i(e){return!a(y,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return v[e]})}function l(t,n){function o(){if(y&&!v)for(;m.length;)delete g[m.pop()];else m=[];y=!1,v=!1}function a(e){if("string"==typeof e&&(e=e.split(b,2)),!h(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),l=new RegExp("\\s*"+r(e[1])),d=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var s,l,d,p=[],g=[],m=[],y=!1,v=!1;a(n||e.tags);for(var I,x,C,R,E,_,O=new f(t);!O.eos();){if(I=O.pos,C=O.scanUntil(s))for(var D=0,A=C.length;D<A;++D)R=C.charAt(D),i(R)?m.push(g.length):v=!0,g.push(["text",R,I,I+1]),I+=1,"\n"===R&&o();if(!O.scan(s))break;if(y=!0,x=O.scan(T)||"name",O.scan(w),"="===x?(C=O.scanUntil(k),O.scan(k),O.scanUntil(l)):"{"===x?(C=O.scanUntil(d),O.scan(S),O.scanUntil(l),x="&"):C=O.scanUntil(l),!O.scan(l))throw new Error("Unclosed tag at "+O.pos);if(E=[x,C,I,O.pos],g.push(E),"#"===x||"^"===x)p.push(E);else if("/"===x){if(_=p.pop(),!_)throw new Error('Unopened section "'+C+'" at '+I);if(_[1]!==C)throw new Error('Unclosed section "'+_[1]+'" at '+I)}else"name"===x||"{"===x||"&"===x?v=!0:"="===x&&a(C)}if(_=p.pop())throw new Error('Unclosed section "'+_[1]+'" at '+O.pos);return c(u(g))}function u(e){for(var t,n,r=[],o=0,a=e.length;o<a;++o)t=e[o],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],o=r,a=[],i=0,s=e.length;i<s;++i)switch(t=e[i],t[0]){case"#":case"^":o.push(t),a.push(t),o=t[4]=[];break;case"/":n=a.pop(),n[5]=t[2],o=a.length>0?a[a.length-1][4]:r;break;default:o.push(t)}return r}function f(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var g=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===g.call(e)},m=RegExp.prototype.test,y=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,b=/\s+/,k=/\s*=/,S=/\s*\}/,T=/#|\^|\/|>|\{|&|=|!/;f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var a,i,s=this,l=!1;s;){if(e.indexOf(".")>0)for(n=s.view,a=e.split("."),i=0;null!=n&&i<a.length;)i===a.length-1&&(l=o(n,a[i])),n=n[a[i++]];else n=s.view[e],l=o(s.view,e);if(l)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=l(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof d?t:new d(t);return this.renderTokens(r,o,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var o,a,i,s="",l=0,u=e.length;l<u;++l)i=void 0,o=e[l],a=o[0],"#"===a?i=this.renderSection(o,t,n,r):"^"===a?i=this.renderInverted(o,t,n,r):">"===a?i=this.renderPartial(o,t,n,r):"&"===a?i=this.unescapedValue(o,t):"name"===a?i=this.escapedValue(o,t):"text"===a&&(i=this.rawValue(o)),void 0!==i&&(s+=i);return s},p.prototype.renderSection=function(e,n,r,o){function a(e){return i.render(e,n,r)}var i=this,s="",l=n.lookup(e[1]);if(l){if(h(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(e[4],n.push(l[u]),r,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],n.push(l),r,o);else if(t(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,o.slice(e[3],e[5]),a),null!=l&&(s+=l)}else s+=this.renderTokens(e[4],n,r,o);return s}},p.prototype.renderInverted=function(e,t,n,r){var o=t.lookup(e[1]);if(!o||h(o)&&0===o.length)return this.renderTokens(e[4],t,n,r)},p.prototype.renderPartial=function(e,n,r){if(r){var o=t(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),n,r,o):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var I=new p;return e.clearCache=function(){return I.clearCache()},e.parse=function(e,t){return I.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,t,r)},e.to_html=function(n,r,o,a){var i=e.render(n,r,o);return t(a)?void a(i):i},e.escape=s,e.Scanner=f,e.Context=d,e.Writer=p,e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){d.default.refresh(),d.default.sdk.pushStateCallback(),v.default.refresh(),g.default.initializeCookies(),c.default.clearTimers(),c.default.initializeTimers(),m.default.send("pageview")}function a(){if(window.history){var e=window.history.pushState;window.history.pushState=function(t){return d.default.sdk.pushStateReset&&setTimeout(o,0),e.apply(window.history,arguments)};var t=window.history.replaceState;window.history.replaceState=function(e){return d.default.sdk.replaceStateReset&&setTimeout(o,0),t.apply(window.history,arguments)}}var n=window.onhashchange||function(){return!0};window.onhashchange=function(){return w&&setTimeout(o,0),n.apply(window,arguments)}}function i(e){w=e}function s(e){b=e}function l(e){var t=e.getBoundingClientRect(),n=window.innerWidth||doc.documentElement.clientWidth,r=window.innerHeight||doc.documentElement.clientHeight,o=function(e,t){return document.elementFromPoint(e,t)};return!(t.right<0||t.bottom<0||t.left>n||t.top>r)&&(e.contains(o(t.left,t.top))||e.contains(o(t.right,t.top))||e.contains(o(t.right,t.bottom))||e.contains(o(t.left,t.bottom)))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),c=r(u),f=n(2),d=r(f),p=n(5),g=r(p),h=n(10),m=r(h),y=n(16),v=r(y),w=!0,b=d.default.sdk.pushStateReset||!1;d.default.sdk.replaceStateReset||!1;t.default={initializeNavigationEvents:a,setOnHashChangeReset:i,setPushStateReset:s,isElementVisible:l},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=i.default.inventory.collectOpenGraph?c.default.scrapeOpenGraph():{};if(i.default.inventory.collectOpenGraphOnly)for(var t=0;t<i.default.inventory.mandatoryOpenGraphFeatures.length;t++)if(void 0===e[i.default.inventory.mandatoryOpenGraphFeatures[t]])return void(i.default.debug&&console.log("LI: You are missing the following Open Graph feature for your metadata: "+i.default.inventory.mandatoryOpenGraphFeatures[t]));var n=i.default.inventory.features;if(n)for(var t=0;t<n.length;t++){var r=n[t],o=c.default.scrapeFeature(r);o&&o.length>0&&(e[r.name]=o)}e.title||(e.title=[c.default.getTitleFallback()]),e.url=[c.default.getCanonicalUrl()];for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];(void 0===o||null===o||o.length<=0)&&delete e[a]}i.default.inventory.collectJSON&&(e=d.default.mergeMap(e,c.default.scrapeJSON()));for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];void 0!==o&&null!==o||delete e[a]}for(var t=0;t<i.default.inventory.mandatoryFeatures.length;t++)if(void 0===e[i.default.inventory.mandatoryFeatures[t]])return void(i.default.debug&&console.log("LI: You are missing the following feature for your metadata: "+i.default.inventory.mandatoryFeatures[t]));return h.default&&h.default.inventoryData&&(h.default.inventoryData.scrapingFinished=!0,performance&&performance.now&&"function"==typeof performance.now&&(h.default.inventoryData.timing.scrape=0|performance.now())),e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=r(a),s=n(11),l=r(s),u=n(13),c=r(u),f=n(3),d=r(f),p=n(10),g=(r(p),n(16)),h=r(g);t.default={collect:function(){var e=i.default.inventory.inventoryServer+"/"+i.default.inventory.inventoryApiVersion+"/__inventory.gif?"+l.default.basicParam(),t=o(),n=i.default.inventory.itemRegex,r=i.default.inventory.excludeRegex,a=i.default.inventory.filters;if(a&&t)for(var s=0;s<a.length;s++)if((t[a[s].name]||[]).indexOf(a[s].value)>=0){if("true"!=a[s].negate)return}else if("true"==a[s].negate)return;if(!(n&&t[i.default.inventory.id]&&t[i.default.inventory.id][0]&&null===t[i.default.inventory.id][0].match(n))&&!(r&&t[i.default.inventory.id]&&t[i.default.inventory.id][0]&&null!==t[i.default.inventory.id][0].match(r))&&void 0!==t&&Object.keys(t).length>1){e+="&item="+encodeURIComponent(JSON.stringify(t)),e+=void 0===i.default.inventory.version?"":"&ver="+i.default.inventory.version,e+="&ttl=0";var u=new Image;u.src=e,h.default&&h.default.inventoryData&&(h.default.inventoryData.inventorySent=!0,performance&&performance.now&&"function"==typeof performance.now&&(h.default.inventoryData.timing.send=0|performance.now()))}},scrapeInventory:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e&&t in e&&typeof e[t]==n?e[t]:void console.log("LI: Invalid or missing parameter: "+t)}function a(){return te.default.getWidgetData()}function i(e){return 0==Object.keys(e).length}function s(){return!i(a())}function l(e){var t=re.default.getObjectKeys(a().widgets);if(e&&"function"==typeof e)return e(t);if(e){var n=o(e,"callback","function");return n?n(t):t}return t}function u(e,t,n){return t in e?e[t]:n}function c(e){for(var t in e)e[t]||delete e[t];return re.default.djb2HashCode(JSON.stringify(e))}function f(e){if(e){var t=o(e,"max","number"),n=(o(e,"callback","function"),o(e,"widget","string")),r=a();if(t){if(r.widgets&&r.widgets[n]){var i=r.widgets[n].opts||{};e.opts=e.opts||{},e.opts=re.default.mergeMap(i,e.opts)}e.itemsToRank&&(e.opts=e.opts||{},e.opts.itemsToRank=JSON.stringify(e.itemsToRank),delete e.itemsToRank),e.optsKey=c(e.opts||{}),pe.default.fetchData.fetchQueue.push(e)}else;}}function d(e,t,n){var r=u(pe.default.fetchData.dedupQueue,n,[]),o=[],a=Y.default.sdk.iden;if(e.items)if(e.items.length)try{for(var i=0,s=0;i<e.items.length&&s<t;++i){var l=e.items[i][a]||"",c=re.default.djb2HashCode(l);if(1!=r[c]){""!=n&&(r[c]=1);var f=re.default.clone(e.items[i]);f.rank=++s,o.push(f)}}}catch(e){}else console.log("LI: Query response received from LiftIgniter was either empty or not of the proper type. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");else console.log("LI: The query response received from LiftIgniter did not have any items. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");return""!=n&&(pe.default.fetchData.dedupQueue[n]=r),{items:o}}function p(e,t){if(Y.default.customCallback&&Y.default.customCallback(pe.default.fetchData.recs[e.optsKey].items),Y.default.sdk&&Y.default.sdk.alwaysSendWidgetResponse||Math.random()<.1||(e.clientLatency||0)>1500||(e.preparationTime||0)>50){var n=0,r=0;try{performance&&performance.memory&&performance.memory.usedJSHeapSize&&(n=performance.memory.usedJSHeapSize),performance&&performance.memory&&performance.memory.totalJSHeapSize&&(r=performance.memory.totalJSHeapSize)}catch(e){console.log("Unexpected error when running performance code",e)}se.default.send("widget_response",{fst:e.fetchStartTime||0,fstr:e.fetchStartTimeRelative||0,pt:e.preparationTime||0,cl:e.clientLatency||0,usedJS:n,totalJS:r,w:e.widget||"",source:"LI"})}e.callback(d(pe.default.fetchData.recs[e.optsKey],e.max,t))}function g(e){Y.default.refresh(),pe.default.refresh(),ye.default.initializeCookies(),we.default.clearTimers(),we.default.initializeTimers(),se.default.send("pageview",e)}function h(){return{dedupGroups:{},max:0,fetchInfo:{}}}function m(){if(!pe.default.fetchData.finalized){var e=a(),t="backup_recs_"+Y.default.jsKey;Se[t]=function(t){Se.setTimeout(function(){pe.default.fetchData.finalized||(pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(n){e.widgets[n.widget]?n.callback(d(t,n.max,e.widgets[n.widget].dedupGid)):n.callback(d(t,n.max,n.dedupGid||"0"))}),se.default.send("timeout",{method:"backupRec",interval:pe.default.fetchData.timeout}),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.timeout="Timed out after waiting for recommendations for "+pe.default.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages"))},Math.max(pe.default.fetchData.startTime+pe.default.fetchData.timeout-re.default.getTime(),0))};var n="//cdn.petametrics.com/backup_recs/"+Y.default.jsKey,r=Te.createElement("script");r.type="text/javascript",r.setAttribute("src",n),Te.head.appendChild(r)}}function y(){pe.default.fetchData.finalized||(pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(e){e.onTimeout&&"function"==typeof e.onTimeout&&e.onTimeout()}),se.default.send("timeout",{method:"onTimeout",interval:pe.default.fetchData.timeout}),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.timeout="Timed out after waiting for recommendations for "+pe.default.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages"))}function v(e){var t=(new Date).getTime(),n=0;try{performance&&performance.now&&(n=0|performance.now())}catch(e){console.log("Unexpected error when running performance code in fetch",e)}if("l4npme86811m9lj2"!==Y.default.jsKey&&"t75qi93gf85456b3"!==Y.default.jsKey&&"tjdqrtlcof1ros6t"!==Y.default.jsKey||Y.default.currentUrl!==window.location.href&&g(),Y.default.disabledCust[Y.default.jsKey])return void console.log("LI: Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(!Y.default.jsKey)return void console.log("LI: Couldn't find your jsKey. Please initialize first.");if(Y.default.sdk.fetchCalled&&!Y.default.sdk.multiFetch)return void console.log("LI: fetch called before. Doing nothing");Y.default.sdk.fetchCalled=!0,pe.default.fetchData.finalized=!1,Y.default.sdk.multiFetch&&(pe.default.fetchData.dedupQueue=[]),pe.default.fetchData.startTime=re.default.getTime(),pe.default.fetchData.timeout=e&&e.timeout||pe.default.fetchData.timeout,pe.default.fetchData.fetchQueue&&pe.default.fetchData.fetchQueue.length>0&&(Y.default.sdk.enableBackup?Se.setTimeout(m,2500):Se.setTimeout(y,pe.default.fetchData.timeout),Y.default.sdk.retry&&Se.setTimeout(w,4300));var r=a(),o={},i={};pe.default.fetchData.fetchQueue.forEach(function(e){var a=o[e.optsKey]||h(),s=r.widgets||{},l=s[e.widget]||{},u=e.dedupGid||l.dedupGid||"0";u&&(i[u]=(i[u]||0)+(e.max||0),a.dedupGroups[u]=!0),a.max=Math.max(a.max,e.max),a.resultType=e.resultType,a.fetchInfo[e.widget]=e.max,a.opts=e.opts||{},a.dedupGid=e.dedupGid,a.fetchStartTime=t,a.fetchStartTimeRelative=n,o[e.optsKey]=a}),pe.default.fetchData.calls=o,pe.default.fetchData.dedupMax=i;for(var s in o)b(s,Y.default.sdk.queryServer)}function w(){var e=pe.default.fetchData.calls;for(var t in e)pe.default.fetchData.finalized||pe.default.fetchData.recs[t]||pe.default.fetchData.retried[t]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying ",t),b(t,Y.default.sdk.backupQueryServer))}function b(e,t){var n=pe.default.fetchData.calls,r=pe.default.fetchData.dedupMax,o=a();if(n.hasOwnProperty(e)){var i=n[e],s=0;for(var l in i.dedupGroups)s+=r[l];if(Y.default.sdk.stabilize&&i.opts&&i.opts.itemsToRank&&ue.default.sessStorage.getItem(re.default.djb2HashCode(JSON.stringify(i.opts.itemsToRank.sort())))){var u=0;try{performance&&performance.now&&(u=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}var c=JSON.parse(ue.default.sessStorage.getItem(re.default.djb2HashCode(JSON.stringify(i.opts.itemsToRank.sort()))));pe.default.fetchData.finalized||(c.items?(pe.default.fetchData.recs[e]=c,Ie(pe.default.fetchData.recs)==Ie(n)&&(pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=i.fetchStartTime,e.preparationTime=u-i.fetchStartTimeRelative;var t=0;try{performance&&performance.now&&(t=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-u,o.widgets[e.widget]?p(e,e.dedupGid||o.widgets[e.widget].dedupGid||""):p(e,"0")}),pe.default.fetchData.fetchQueue=[],pe.default.fetchData.recs={},pe.default.fetchData.dedupQueue=[])):console.log("LI: Response does not seem to make sense, so punting"))}else{var u=0;try{performance&&performance.now&&(u=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}k({name:"default-widget",max:Math.max(i.max,s),resultType:i.resultType,opts:re.default.mergeMap(i.opts,{fetchInfo:JSON.stringify(i.fetchInfo)}),optsKey:e,serverName:t,callback:function(e,t){pe.default.fetchData.finalized||(e.items?(pe.default.fetchData.recs[t.optsKey]&&console.log("LI: We are overwriting previously fetched recommendations. As a general rule, this should not happen."),pe.default.fetchData.recs[t.optsKey]=e,Ie(pe.default.fetchData.recs)==Ie(n)&&(pe.default.fetchData.finalized=!0,Y.default.rankFiddling&&Y.default.rankFiddling(pe.default.fetchData.fetchQueue),pe.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=i.fetchStartTime,e.fetchStartTimeRelative=i.fetchStartTimeRelative,e.preparationTime=u-i.fetchStartTimeRelative;var t=0;try{performance&&performance.now&&(t=0|performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-u,o.widgets[e.widget]?p(e,o.widgets[e.widget].dedupGid||""):p(e,"0")}),pe.default.fetchData.fetchQueue=[],pe.default.fetchData.recs={},pe.default.fetchData.dedupQueue=[],Y.default.sdk.stabilize&&t.opts.itemsToRank&&ue.default.sessStorage.setItem(re.default.djb2HashCode(JSON.stringify(t.opts.itemsToRank.sort())),JSON.stringify(e)))):console.log("LI: Response does not seem to make sense, so punting"))}})}}}function k(e){var t=Y.default.frontPageBoost?"ModelQ":void 0,n=J();n=isNaN(n)?"":"&forcedHash="+n;var r=function(t){e.callback(t,e)},o=function(t,n){console.log("error code: "+t),console.log("error message: "+n),t>=500||0==t?(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_timeout="error code: "+t+"; error message: "+n),pe.default.fetchData.retried[e.optsKey]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying",e.optsKey),pe.default.fetchData.retried[e.optsKey]=!0,b(e.optsKey,Y.default.sdk.backupQueryServer))):t>=400&&(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_error="error code: "+t+"; error message: "+n),pe.default.fetchData.retried[e.optsKey]=!0)},a=e.serverName+"/"+Y.default.sdk.queryApiVersion+"/model?"+Z.default.forCurrentExample(t);try{for(var i in Y.default.globalCtx)Y.default.globalCtx.hasOwnProperty(i)&&(a+="[object Array]"===Object.prototype.toString.call(Y.default.globalCtx[i])?"&"+i+"="+encodeURIComponent(JSON.stringify(Y.default.globalCtx[i])):"&"+i+"="+encodeURIComponent(Y.default.globalCtx[i]))}catch(e){console.log("Error adding global context when making model query, the query will still proceed fine")}a+=e.max?"&max="+encodeURIComponent(e.max):"",a+=e.name?"&w="+encodeURIComponent(e.name):"",a+=Y.default.sdk.requestFields?"&f="+encodeURIComponent(JSON.stringify(Y.default.sdk.requestFields)):"",a+=Y.default.sdk.arrayRequestFields?"&arf="+encodeURIComponent(JSON.stringify(Y.default.sdk.arrayRequestFields)):"",a+=Y.default.sdk.mandatoryRequestFields&&Y.default.sdk.mandatoryRequestFields.length>0?"&mf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryRequestFields)):"",a+=Y.default.sdk.mandatoryArrayRequestFields&&Y.default.sdk.mandatoryArrayRequestFields.length>0?"&marf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryArrayRequestFields)):"";try{ue.default.hasStorageEnabled()&&(Y.default.shown.active&&Y.default.longHist.active?a+="&exc="+JSON.stringify(JSON.parse(ue.default.getLongHist()).concat(JSON.parse(ue.default.getFrequent()))):Y.default.longHist.active?a+="&exc="+JSON.stringify(JSON.parse(ue.default.getLongHist())):Y.default.shown.active&&(a+="&exc="+JSON.stringify(JSON.parse(ue.default.getFrequent()))),Y.default.longHist.active||ue.default.removeItem(Y.default.longHistKey),Y.default.shown.active||ue.default.removeItem(Y.default.shown.freqCapKey))}catch(e){console.log("LI: Error when trying to add some storage data into query, continuing anyway. Contact support@liftigniter.com if you notice this, including information on your browser."),console.log("LI: Error details",e)}a+=Y.default.sdk.requestFieldsAON?"&fa="+encodeURIComponent(Y.default.sdk.requestFieldsAON):"",a+=Y.default.sdk.getQueryInfo?"&gqi="+encodeURIComponent(Y.default.sdk.getQueryInfo):"";for(var s in e.opts)e.opts.hasOwnProperty(s)&&(a+="object"==typeof e.opts[s]?"&"+s+"="+encodeURIComponent(JSON.stringify(e.opts[s])):"&"+s+"="+encodeURIComponent(e.opts[s]));a+=n,ke.default.thirdPartyFetchNoCookies(a,0,r,o)}function S(e,t){function n(e){13==e.which&&se.default.send("search_enter",{source:t,q:e.target.value})}var r=document.querySelector(e);r.addEventListener("keypress",n,!1)}function T(e){return[].concat.apply([],e.map(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("a"));return"A"!=(e.tagName||e.nodeName||"")&&0!=t.length||t.push(e),t}))}function I(e,t){return T(e).map(function(e){return Y.default.trackingTransURL(e.href)}).filter(function(e){return t.test(e)}).slice(0,50)}function x(e,t,n,r,o,a){var i=o.type||"widget",s=(o.page||"",c(o)),l=function(){if(he.default.isElementVisible(e)&&!xe[s]){try{performance&&performance.now&&(Y.default.timing.visibleTimes[t]=0|performance.now(),o.st=Y.default.timing.shownTimes[t]||0,o.tss=(Y.default.timing.visibleTimes[t]||0)-(Y.default.timing.shownTimes[t]||0))}catch(e){console.log("Encountered unexpected error when adding performance information to visible event: ",e)}a&&alert("visible for "+t+":"+r.source),se.default.send(i+"_visible",re.default.mergeMap(re.default.mergeMap(r,o),{vi:JSON.stringify(n)})),xe[s]=!0,Y.default&&Y.default.shown&&Y.default.shown.active&&ue.default.storeVisibleElements(n.slice(0,Y.default.shown.vizCap))}};l(),ae.default.addEvent(Te,"DOMContentLoaded",R(l,250,!0)),ae.default.addEvent(Te,"load",R(l,250,!0)),ae.default.addEvent(Te,"resize",R(l,250,!0)),ae.default.addEvent(Te,"scroll",R(l,250,!0)),setTimeout(l,500)}function C(e){if(e){e.name||(console.log("LI: specify the widget name on tracking function. Setting widget name to default-widget by default"),e.name="default-widget"),"function"==typeof Y.default.sdk.customTrackFunc&&Y.default.sdk.customTrackFunc(e);var t=e.params||{},n=e.elements;if(n&&n.length&&n.length>0){n=Array.prototype.slice.call(n);var r=o(e,"name","string"),i=o(e,"source","string");if(r&&i){var s=a(),l=I(n,new RegExp(s.itemRegex)||/.*/),u=[];l.forEach(function(e){u.indexOf(e)<0&&u.push(Y.default.trackingTransURL(e))});var c=e.opts||{},f=c.type||"widget";c.tType=f,c.source=i,c.w=r;try{performance&&performance.now&&(Y.default.timing.shownTimes[r]=0|performance.now(),c.st=Y.default.timing.shownTimes[r])}catch(e){console.log("Unexpected error when recording the current time",e)}"search"!=f?(pe.default&&pe.default.shownSourceMap&&i&&(pe.default.shownSourceMap[i]?pe.default.shownSourceMap[i]=pe.default.shownSourceMap[i]+1:pe.default.shownSourceMap[i]=1),se.default.send(f+"_shown",re.default.mergeMap(c,{vi:JSON.stringify(u)}))):e.q&&(c.q=e.q),"widget"===f&&n[0]&&x(n[0],r,u,c,c,e._debug);var d=T(n),p=t.tagPrefix?t.tagPrefix:"li",g=t.noTag||Y.default.noTag||!1,h=t.noClick||!1;d.forEach(function(t){g||fe.default.tagAnchor(t,c,p),h||fe.default.trackAnchor(t,c,re.default.mergeMap(c,{vi:JSON.stringify(u)}),e._debug)}),Ce[r]=!0}}}}function R(e,t,n){var r;return function(){var o=this,a=arguments,i=function(){r=null,n||e.apply(o,a)},s=n&&!r;clearTimeout(r),r=setTimeout(i,t),s&&e.apply(o,a)}}function E(e){var t=re.default.djb2HashCode(Y.default.uid||0);if(!e||"function"!=typeof e){if(e){var n=o(e,"callback","function");return n?n(t):(elseTe,t)}return t}e(t)}function _(e,t,n,r){var o=r||["{{","}}"];V.default.parse(e,o);var a=V.default.render(e,t);return"function"!=typeof n?a:void n(a)}function O(e){var t=a();"function"==typeof t.render?t.render(e):console.log("LI: Custom widget not defined.")}function D(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.requestFields=e:console.error("LI: Error setting request fields: input is not an array.")}function A(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.arrayRequestFields=e:console.error("LI: Error setting array request fields: input is not an array.")}function U(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryRequestFields=e:console.error("LI: Error setting mandatory request fields: input is not an array.")}function P(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryArrayRequestFields=e:console.error("LI: Error setting mandatory array request fields: input is not an array.")}function M(e){"boolean"==typeof e?Y.default.sdk.requestFieldsAON=e:console.error("LI: Error setting request fields all or nothing: input is not a boolean.")}function N(e){"boolean"==typeof e?Y.default.sdk.getQueryInfo=e:console.error("Error changing setting on getting query info: input is not a boolean.")}function q(e){"boolean"==typeof e?Y.default.noTag=e:console.error("Error setting noTag: input is not a boolean.")}function L(e,t){var n=Array.prototype.slice.call(Te.querySelectorAll(e)),r=t||{st:0};return r.e=r.e||n.length,n.slice(r.st,r.e)}function F(e,t,n,r,o){var a,i=o||{};if(i.fullRender){var s=Te.querySelector(i.topLevelCss);s.innerHTML=V.default.render(r,{items:n}),a=L(e,i.replaceRange)}else{a=L(e,i.replaceRange);for(var l=Math.min(a.length,n.length),u=0;u<l;++u)if(i.outer){var c=Te.createElement("div");c.innerHTML=V.default.render(r,n[u]),a[u].parentNode.replaceChild(c.firstChild,a[u])}else a[u].innerHTML=V.default.render(r,n[u]);i.outer&&(a=L(e,i.replaceRange))}C({elements:a,name:t,source:"LI",params:{tagPrefix:i.tagPrefix,noTag:i.noTag}}),i["on-load"]&&eval.call(Se,i["on-load"])}function j(e,t,n,r,o,a,i){a=a||{},f({max:e,widget:n,callback:function(e){function o(){a.preproc&&(l=Se[a.preproc](l)),F(t,n,l,r,a)}function s(){var e=a.fullRender?a.topLevelCss:t;return Te.querySelectorAll(e).length>0}var l=e.items,u=i||s;ae.default.doWhenReady(u,o)},opts:o||{}})}function H(e,t,n,r){function o(){var t=a.fullRender?a.topLevelCss:e;return Te.querySelectorAll(t).length>0}var a=n||{},i=r||o;ae.default.doWhenReady(i,function(){var n=L(e,a.replaceRange);C({elements:n,name:t,source:"base",params:{tagPrefix:a.tagPrefix,noTag:a.noTag}})})}function K(){if(Se.location.search.indexOf("igniter_abhash")!=-1){var e=parseInt(Z.default.getParam("igniter_abhash"));if(!isNaN(e)&&e<100&&e>=0)return e}return E()%100}function B(e){if(e){var t=o(e,"callback","function");if(t)return t(K())}}function J(){if(Se.location.search.indexOf("ig_exp_hash")!=-1){var e=parseInt(Z.default.getParam("ig_exp_hash"));if(!isNaN(e)&&e<100&&e>=0)return e}}function z(e){if(Y.default.inventory.collect)return void console.log("LI: Default scraping is turned on. Turn off automatic scraping");var t=e||{},n=Y.default.inventory.mandatoryFeatures,r=Y.default.inventory.inventoryServer+"/"+Y.default.inventory.inventoryApiVersion+"/__inventory.gif?"+Z.default.basicParam(),o=!1;for(var a in t)if(t.hasOwnProperty(a)){var i=typeof t[a];if("string"===i||"number"===i)t[a]=t[a];else if(void 0===t[a])console.log("LI: A field is undefined. Removing the field"),delete t[a];else{if(!(t[a].length>=0))throw"LI: LI only accepts String, Number, or array of Strings for object values";o=!0}}for(var s=0;s<n.length;s++)if(!t[n[s]])throw"LI: You are missing the following feature for your metadata: "+n[s];if(void 0!==t&&Object.keys(t).length>1){r+="&item="+encodeURIComponent(JSON.stringify(t)),r+=void 0===Y.default.inventory.version?"":"&ver="+Y.default.inventory.version;var l=new Image;l.src=r}}function G(e){return Y.default.sdk.manualHist?e instanceof Array?void(Y.default.sdk.manualHist=e):void console.log("LI: Given argument is not an array."):void console.log("LI: Turn off the automatic history tracking")}function W(e){Y.default.customContext=e}Object.defineProperty(t,"__esModule",{value:!0});var Q=n(19),V=r(Q),$=n(2),Y=r($),X=n(11),Z=r(X),ee=n(9),te=r(ee),ne=n(3),re=r(ne),oe=n(8),ae=r(oe),ie=n(10),se=r(ie),le=n(6),ue=r(le),ce=n(18),fe=r(ce),de=n(16),pe=r(de),ge=n(20),he=r(ge),me=n(5),ye=r(me),ve=n(17),we=r(ve),be=n(23),ke=r(be),Se=window,Te=document,Ie=re.default.size,xe={},Ce={};t.default={getWidgetNames:l,register:f,fetch:v,resetPageview:g,monitorSearch:S,track:C,userHash:E,render:_,renderCustomWidget:O,setRequestFields:D,setArrayRequestFields:A,setMandatoryRequestFields:U,setMandatoryArrayRequestFields:P,setRequestFieldsAON:M,setGetQueryInfo:N,setNoTag:q,isActivated:s,addRecsHelper:j,userCallback:p,baseTrack:H,abSlice:K,abTestSlice:B,sendItem:z,setHist:G,setContext:W,debounce:R},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){function o(e){var t=e.target;200===t.status?n(JSON.parse(t.responseText)):r(t.status,t.responseText)}function a(){r(-2,"client timeout")}function s(e){var t=e.target;r(t.status,"network error")}if("string"!=typeof e)throw Error("url must be string");if(null==t||!(t>=0))throw Error("Timeout must be non-negative number. 0 means no timeout.");if("function"!=typeof n)throw Error("Expected successCallback to be function");if("function"!=typeof r)throw Error("Expected errorCallback to be function");var l="undefined"==typeof XMLHttpRequest?null:new XMLHttpRequest;if(null==l||void 0===l.withCredentials){var u=function(){var o=document.createElement("script"),s="igniter_"+i.default.generateUUID().replace(/-/g,""),l=!1,u=0==t?null:setTimeout(function(){l||(l=!0,a())},t);return window[s]=function(e){l||(l=!0,null!=u&&clearTimeout(u),n(e)),o.parentNode.removeChild(o)},o.async=o.defer=!0,o.src=e+(e.indexOf("?")>=0?"&":"?")+"jsonp="+s,o.onerror=function(e){l||(l=!0,clearTimeout(u),r(-3,"Jsonp script failed to load")),o.parentNode.removeChild(o)},document.head.appendChild(o),{v:void 0}}();if("object"==typeof u)return u.v}l.open("GET",e,!0),l.onload=o,l.ontimeout=a,l.onerror=s,l.timeout=t;try{l.send()}catch(e){r(-1,e.name+": "+e.message+(null!=e.description?" "+e.description:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.thirdPartyFetchNoCookies=o;var a=n(3),i=r(a);t.default={thirdPartyFetchNoCookies:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e,t){}var n=e.query||i.default.search.defaultQuery,r=i.default.jsKey,o=e.max||i.default.search.max,a=e.off||i.default.search.off,s=e.requestFields||i.default.search.requestFields,u=i.default.search.queryServer;if(!r)return void console.log("LI: Client isn't initialized. Load the JavaScript Key");var f=u+"/v1/search?";
f+=l.default.forCurrentExample(),f+="&q="+encodeURIComponent(n),f+="&smx="+encodeURIComponent(o),f+="&sf="+encodeURIComponent(JSON.stringify(s)),f+="&sof="+encodeURIComponent(a);for(var d in e.opts)e.opts.hasOwnProperty(d)&&(f+="object"==typeof e.opts[d]?"&"+d+"="+encodeURIComponent(JSON.stringify(e.opts[d])):"&"+d+"="+encodeURIComponent(e.opts[d]));(0,c.thirdPartyFetchNoCookies)(f,0,function(t){return e.callback(t,e)},t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=r(a),s=n(11),l=r(s),u=n(3),c=(r(u),n(23));window;t.default={search:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){function t(e){a(e),f(e)}function n(e,t){s&&s({code:e,message:t})}var r=[];for(var o in e)e.hasOwnProperty(o)&&(S[o]?typeof e[o]!==S[o]&&r.push("Wrong type for key "+o+" (expected "+S[o]+", got "+typeof e[o]+")"):r.push("Unrecognized key "+o));if(null==T&&(T=i()),r.length>0)throw Error('$p("fpo", options): '+r.join("; "));var a=e.callback,s=e.errorCallback;if(null==g.default.jsKey)throw Error('$p("fpo", options): Liftigniter not initialized; you must call $p("init") first');if("string"!=typeof g.default.fpo.queryServer)throw Error("Expected Config.fpo.queryServer to be a string");var l=void 0,u=m.default.forCurrentExample(l),c=g.default.fpo.queryServer+"/v1/floorPrice?"+u+(e.failSometimes?"&failSometimes=true":"")+"&fpoHistory="+encodeURIComponent(JSON.stringify(T)),d=g.default.fpo.timeout;if(null==d||!(d>=0))throw Error("Expected non-zero Config.fpo.timeout");(0,y.thirdPartyFetchNoCookies)(c,d,t,n)}function i(){var e=void 0;if(null!=window.localStorage)try{e=JSON.parse(localStorage.getItem("pm-fpo")||"null"),null!=e&&"object"==typeof e||(e={})}catch(t){e={}}else e={};for(null!=e.pageviews&&null!=e.pageviews.length||(e.pageviews=[]);e.pageviews.length>0&&!e.pageviews[0].dfpFilledSlots;)e.pageviews.shift();return e}function s(e){try{if(null!=window.localStorage){var t=JSON.stringify(e);return localStorage.setItem("pm-fpo",t),"ok"}return"noLocalStorage"}catch(e){return console.log("Error when saving to FPO history",e),"Error: QUOTA_EXCEEDED_ERR: DOM Exception 22"==e||"Error: QuotaExceededError: DOM Exception 22"==e||"QuotaExceededError (DOM Exception 22): The quota has been exceeded."==e?(l(),"localStorageFull"):"Unexpected error: "+e}}function l(){try{return null!=window.localStorage?(localStorage.removeItem("pm-fpo"),"ok"):"noLocalStorage"}catch(e){return console.log("Error when deleting FPO history",e),"Unexpected error: "+e}}function u(e,t){var n=c();return n.pubadsRequested.apply(n,arguments)}function c(){return x||(x=new I),x}function f(e){var t=c();t.resetKnownSlotsAndStartReporting(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.fetchFloorPrice=a,t.pubadsRequested=u,t.reportAdxStats=f;var p=n(2),g=r(p),h=n(11),m=r(h),y=n(23),v=n(10),w=r(v),b=n(3),k=r(b),S={callback:"function",errorCallback:"function",failSometimes:"boolean"},T=null,I=function(){function e(){o(this,e),this.slotRenderEndedListenerInstalled=!1,this.batchCount=0,this.reportBatch=null,this.fpoResp={},this.checkNewSlotsInterval=0,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.refreshBasedReportBatches=[],null==T&&(T=i()),T.pageCount=(T.pageCount||0)+1,this.pageEvent=null;for(var t=0;t<T.pageviews.length;t++){var n=T.pageviews[t];if(null!=n&&n.pvid===g.default.pvid){this.pageEvent=n;break}}null==this.pageEvent&&(this.pageEvent={pvid:g.default.pvid,pageLoadClientTimestamp:+new Date,priceInPennies:null,slotPrices:{},dfpFilledSlots:[],adxFilledSlots:[],unfilledSlots:[]},T.pageviews.length>=4&&T.pageviews.shift(),T.pageviews.push(this.pageEvent))}return d(e,[{key:"reportNewSlots",value:function(t,n){var r=this;try{var o={},a=!0;if(null!=t&&t.length>0){var i=e.getFillInfo(t,n),l=i.dfpPaths,u=i.adxPaths,c=i.unfPaths,f=googletag.pubads().getTargetingKeys(),d=f.reduce(function(e,t){return e[t]=googletag.pubads().getTargeting(t),e},{});o.dfpFilledSlots=l,o.adxFilledSlots=u,o.unfilledSlots=c,o.batchNumber=this.batchCount++,o.allSlotInfo=JSON.stringify(i.reportBatchIncludingUnfilled),o.fpoHistory=JSON.stringify(T),f.length>0&&(o.targeting=JSON.stringify(d)),this.pageEvent.dfpFilledSlots=l,this.pageEvent.adxFilledSlots=u,this.pageEvent.unfilledSlots=c,this.pageEvent.priceInPennies=this.fpoResp.priceInPennies,l.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])}),u.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])}),c.forEach(function(e){r.fpoResp.slotPrices&&r.fpoResp.slotPrices[e]&&(r.pageEvent.slotPrices[e]=r.fpoResp.slotPrices[e])});var p=s(T);"ok"!=p&&(o.fpoHistorySaveStatus=p),a=!1}if(this.refreshBasedReportBatches.length>0){var g=this.refreshBasedReportBatches.filter(function(e){return null!=e.sendParams});if(this.refreshBasedReportBatches=this.refreshBasedReportBatches.filter(function(e){return null==e.sendParams}),g.length>0){var h=g.map(function(e){return e.lostSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),m=null==h?null:h.map(function(e){return e.getAdUnitPath()}),y=g.map(function(e){return e.lostAdxFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),v=g.map(function(e){return e.lostDfpFilledSlots}).reduce(function(e,t){return e&&t?e.concat(t):e?e:t}),b=g.map(function(e){return e.sendParams}).reduce(function(e,t){return{refreshBasedDfpFilledSlots:e.refreshBasedDfpFilledSlots.concat(t.refreshBasedDfpFilledSlots),refreshBasedAdxFilledSlots:e.refreshBasedAdxFilledSlots.concat(t.refreshBasedAdxFilledSlots),refreshBasedUnfilledSlots:e.refreshBasedUnfilledSlots.concat(t.refreshBasedUnfilledSlots)}});null!=m&&(b.refreshBasedLostSlots=m),null!=y&&(b.refreshBasedLostAdxFilledSlots=y),null!=v&&(b.refreshBasedLostDfpFilledSlots=v),o=k.default.mergeMap(o,b)}a=!1}if(a)return;var S=k.default.mergeMap(k.default.mergeMap(this.fpoResp,o),{slotPrices:JSON.stringify(this.pageEvent.slotPrices)});w.default.send("slotsRendered",S)}catch(e){console.log("Encountered exception when preparing and sending ad slots report",e),w.default.send("reportNewSlotsError",{errorDetails:"Encountered error: "+e+" when trying to send adSlotsReport"})}}},{key:"resetKnownSlotsAndStartReporting",value:function(e){var t=this;0!==this.checkNewSlotsInterval&&(clearInterval(this.checkNewSlotsInterval),this.checkNewSlotsInterval=0),this.fpoResp=e,this.newSlots=null,this.slotsWaitingForTimeout=null,this.seenSlots={},this.checkNewSlotsInterval=setInterval(function(){t.pollSlots()},750),this.pollSlots()}},{key:"pubadsRequested",value:function(t,n){var r=this;try{1!==arguments.length||Array.isArray(t)||"object"!=typeof t||(n=t,t=void 0);var o=[];if(Array.isArray(t))for(var a=0;a<t.length;a++)"object"==typeof t[a]&&"function"==typeof t[a].getAdUnitPath||o.push("opt_slots["+a+"] = "+t[a]+" but expected a Slot object");else null!=t&&o.push("opt_slots = "+t+" but expected null or array of slots");if("object"!=typeof n&&null!=n&&o.push("opt_options = "+n+" but expected null or object"),o.length>0)throw Error('$p("pubadsRequested", opt_slots, opt_options): '+o.join("; "));var i=t||googletag.pubads().getSlots();return i.length>0&&!function(){for(var t={},n=0;n<i.length;n++)t[i[n].getAdUnitPath()]=!0;r.refreshBasedReportBatches.forEach(function(n){if(null==n.sendParams){var r=n.slots.filter(function(e){return t[e.getAdUnitPath()]}),o=e.getFillInfo(r,n.reportBatch);n.lostAdxFilledSlots=e.checkAppend(n.lostAdxFilledSlots,o.adxPaths),n.lostDfpFilledSlots=e.checkAppend(n.lostDfpFilledSlots,o.dfpPaths),n.lostSlots=e.checkAppend(n.lostSlots,r),n.slots=n.slots.filter(function(e){return!t[e.getAdUnitPath()]})}});var o={refreshTimestamp:+new Date,reportBatch:[],slots:i,lostSlots:null,lostAdxFilledSlots:null,lostDfpFilledSlots:null,sendParams:null};r.refreshBasedReportBatches.push(o),setTimeout(function(){return r.pollAfterRefresh(o)},2e3)}(),"ok"}catch(e){return console.log("Encountered error when processing pubAdsRequest",e),w.default.send("pubAdsRequestedError",{errorDetails:"Encountered error "+e+" when running pubAdsRequested"}),"fail"}}},{key:"pollAfterRefresh",value:function(t){try{var n=e.getFillInfo(t.slots,t.reportBatch),r={refreshBasedDfpFilledSlots:n.dfpPaths,refreshBasedAdxFilledSlots:n.adxPaths,refreshBasedUnfilledSlots:n.unfPaths};t.sendParams=r}catch(e){console.log("Encountered error when running pollAfterRefresh",e),w.default.send("pollAfterRefreshError",{errorDetails:"Encountered error "+e+" when running pollAfterRefresh"})}}},{key:"installSlotRenderEndedListener",value:function(){var t=this;this.slotRenderEndedListenerInstalled||(googletag.pubads().addEventListener("slotRenderEnded",function(n){try{null==t.reportBatch&&(t.reportBatch=[]);var r=e.getSlotInfo(n.slot,n);t.reportBatch.push(r);for(var o=0;o<t.refreshBasedReportBatches.length;o++)t.refreshBasedReportBatches[o].reportBatch.push(r)}catch(e){console.log("Encountered error when listening to slot",e),w.default.send("slotListeningError",{errorDetails:"Encountered error "+e+" when running the listener on slotRenderEnded"})}}),this.slotRenderEndedListenerInstalled=!0)}},{key:"pollSlots",value:function(){var e=this;"undefined"!=typeof googletag&&null!=googletag&&googletag.cmd.push(function(){e.pollSlotsWithGoogletag()})}},{key:"pollSlotsWithGoogletag",value:function(){var e=this;this.installSlotRenderEndedListener(),this.reportNewSlots(this.slotsWaitingForTimeout,this.reportBatch),this.slotsWaitingForTimeout=this.newSlots,this.reportBatch=null,this.newSlots=googletag.pubads().getSlots().filter(function(t){return!e.seenSlots[t.getAdUnitPath()]}),this.newSlots.forEach(function(t){e.seenSlots[t.getAdUnitPath()]=!0})}}],[{key:"getSlotInfo",value:function(e,t){var n=e.getTargetingKeys(),r=n.reduce(function(t,n){return t[n]=e.getTargeting(n),t},{}),o=e.getResponseInformation(),a={slotName:e.getAdUnitPath(),slotAdUnitPath:e.getAdUnitPath(),slotElementId:e.getSlotElementId(),outOfPage:e.getOutOfPage(),timestamp:+new Date,responseInformation:o};return n.length>0&&(a.targeting=r),null!=t&&(a.creativeId=t.creativeId,a.isEmpty=t.isEmpty,a.lineItemId=t.lineItemId,a.serviceName=t.serviceName,a.size=t.size),a}},{key:"getFillInfo",value:function(t,n){var r=t.map(function(t){var r=null;if(n)for(var o=0;o<n.length;o++)if(t.getAdUnitPath()==n[o].slotAdUnitPath){r=n[o];break}return null==r&&(r=e.getSlotInfo(t,null)),r}),o=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null!=e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),a=r.filter(function(e){return!e.isEmpty&&null!=e.responseInformation&&null==e.responseInformation.lineItemId}).map(function(e){return e.slotAdUnitPath}),i=r.filter(function(e){return-1===o.indexOf(e.slotAdUnitPath)&&-1===a.indexOf(e.slotAdUnitPath)}).map(function(e){return e.slotAdUnitPath});return{dfpPaths:o,adxPaths:a,unfPaths:i,reportBatchIncludingUnfilled:r}}},{key:"checkAppend",value:function(e,t){return e=e||[],Array.prototype.push.apply(e,t),e}}]),e}(),x=null}]);